<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.0.2 (456266)"/><meta name="author" content="NIKOLA SAMARDZIC"/><meta name="created" content="2018-03-09 04:29:21 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2018-03-13 21:50:13 +0000"/><title>MC: Ch 23 -- Debugging</title></head><body><div/><hr/><div><span style="font-weight: bold;"><font style="font-size: 12px;" face="Times New Roman">McConnel: Chapter 23 — Debugging</font></span></div><hr/><ul><li><font style="font-size: 12px;" face="Times New Roman">Studies of experienced programmers found roughly 20-to-1 difference in the time it takes experienced programmers to find the same set of defects found by inexperienced programmers.</font></li><li><font style="font-size: 12px;" face="Times New Roman">An error in your program provides a powerful opportunity for you to learn many things (<span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;">learning through errors</span>):</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Learn about the program you’re working on</span>. </font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Learn about the kinds of mistakes you make</span>. Once you find the mistake, ask yourself how and why you made it. How could you have found it more quickly? How could you have prevented it? Does the code have other mistakes just like it? Can you correct them before they cause problems of their own?</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Learn about the quality of your code from the point of view of someone who has to rea it</span>. You will have to read your code to find the defect. Is your code easy to read? How could it be better?</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Learn about how you solve problems</span>. Does your approach to debugging work? Do you find defects quickly? Do you feel frustrated? Considering the amount of time many projects spend on debugging, you definitely won’t waste time if you observe how you debug.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Learn about how you fix defects</span>. Do you make systemic corrections, demanding an accurate diagnosis and prescribing treatment for the heart of the problem?</font></li></ul></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div><ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;">Bad approaches to debugging</span>:</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Find the defect by guessing</span>. To find the defects scatter print statements randomly throughout a program.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Don’t waste time trying to understand the problem</span>. </font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Fix the error with the most obvious fix</span>.</font></li></ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;">Scientific method of debugging</span>:</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman">Gather data through repeatable experiments</font></li><li><font style="font-size: 12px;" face="Times New Roman">Form a hypothesis that accounts for the relevant data.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Design an experiment to prove or disprove the hypothesis.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Prove or disprove the hypothesis.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Repeat as needed</font></li></ul></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div><ul><li><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;"><font style="font-size: 12px;" face="Times New Roman">Stabilizing the error</font></span></li><ul><li><font style="font-size: 12px;" face="Times New Roman">Making an intermittent defect occur predictably is one of the most challenging tasks in debugging.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Non-predictable errors usually involve initialization errors, timing issues, or a dangling-pointer reference.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Key is to find the simplest possible test case that still reproduces the error.</font></li></ul></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div><ul><li><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;"><font style="font-size: 12px;" face="Times New Roman">Finding the defect:</font></span></li><ul><li><font style="font-size: 12px;" face="Times New Roman">After you stabilize the error and boil it down to the simplest possible test case, finding the defect can still be hard (if you have not written your code well).</font></li><li><font style="font-size: 12px;" face="Times New Roman">Use all the data available to make your hypothesis.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Refine the test cases that produce the error.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Exercise the code in your unit test suite.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Use available tools.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Reproduce the error several different ways.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Generate more data to generate more hypotheses.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Use the results of negative test.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Brainstorm for possible hypotheses.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Keep a notepad by your desk, and make a list of things to try.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Narrow the suspicious region of code. </font></li><li><font style="font-size: 12px;" face="Times New Roman">Be suspicious of classes and routines that have had defects before.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Check code that’s changed recently.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Expand the suspicious region of the code.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Integrate incrementally.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Check for common defects.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Talk to someone else about the problem.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Take a break from the problem.</font></li></ul></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div><div><span style="font-weight: bold;"><font style="font-size: 12px;" face="Times New Roman">Brute-Force Debugging</font></span></div><ul><li><font style="font-size: 12px;" face="Times New Roman">Tedious, arduous, and time-consuming, but guaranteed to solve the problem.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;">General approaches to brute-force debugging</span>:</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman">Perform a full design and/or code review on the broken code</font></li><li><font style="font-size: 12px;" face="Times New Roman">Throw away the section of code and redesign/recode it from scratch</font></li><li><font style="font-size: 12px;" face="Times New Roman">Throw away the whole program and redesign/recode it from scratch</font></li><li><font style="font-size: 12px;" face="Times New Roman">Compile code with the full debugging information</font></li><li><font style="font-size: 12px;" face="Times New Roman">Compile code at pickiest warning level and fix all the picky compiler warnings</font></li><li><font style="font-size: 12px;" face="Times New Roman">Strap on a unit test harness and test the new code in isolation</font></li><li><font style="font-size: 12px;" face="Times New Roman">Create an automated test suite and run it all night</font></li><li><font style="font-size: 12px;" face="Times New Roman">Step through a big loop in the debugger manually until you get to the error condition.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Instrument the code with print, display, or other logging statements.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Compile the code with a different compiler.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Compile and run the program in a different environment.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Link or run the code against special libraries or execution environments that produce warnings when code is used incorrectly.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Replicate the end-user’s full machine configuration.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Integrate new code in small pieces, fully testing each piece as it’s integrated.</font></li></ul><li><font style="font-size: 12px;" face="Times New Roman">Set a maximum time limit for trying the quick and easy debugging route. When this time expires, switch to one of the brute-force methods.</font></li></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div><div><span style="font-weight: bold;"><font style="font-size: 12px;" face="Times New Roman">Syntax errors</font></span></div><ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Don’t trust line numbers in compiler messages</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Don’t trust compiler messages</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Don’t trust the compiler’s second message</span>. Recompile after fixing the first error.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Find misplaced comments and equation marks</span>.</font></li></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div><div><span style="font-weight: bold;"><font style="font-size: 12px;" face="Times New Roman">Fixing a defect</font></span></div><ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Understand the problem before you fix it</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Understand the program, not just the problem</span>. Understand the code a few hundred lines around the source of the error.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Confirm the defect diagnosis</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Relax</span>. Hurrying to solve a problem is one of the most time-ineffective things you can do.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Save the original source code</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Fix the problem not the symptom</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Change the code only for good reasons</span>. Related to fixing symptoms is the technique of changing code at random until it seems to work.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Make one change at a time</span>. Multiple changes can introduce subtle errors that look like the original error.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Check your fix</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Add a unit test that exposes the defect</span>. </font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Look for similar defects</span>. Defects tend to occur in groups.</font></li></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div><ul><li><font style="font-size: 12px;" face="Times New Roman">Good formatting, commenting, variable names, routine names, and other elements of programming style help structure the programming background so that likely defects appear as variations and stand out.</font></li></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div><div><span style="font-weight: bold;"><font style="font-size: 12px;" face="Times New Roman">Debugging tools</font></span></div><ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Source-code comparators</span>. E.g. diff.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Compiler warning messages</span>.</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman">Set your compiler’s warning level to the highest, pickiest level possible, and fix the errors it reports.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Treat warnings as errors.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Initiate project wide standards for compile-time settings. Everybody working on a project should compile with the same compiler and settings.</font></li></ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Extended syntax and logic checking</span>. E.g. linters</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Execution profiles</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Debuggers</span>.</font></li></ul><div><br/></div></body></html>