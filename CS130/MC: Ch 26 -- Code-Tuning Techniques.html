<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.0.2 (456266)"/><meta name="author" content="NIKOLA SAMARDZIC"/><meta name="created" content="2018-03-09 04:26:50 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2018-03-13 21:50:50 +0000"/><title>MC: Ch 26 -- Code-Tuning Techniques</title></head><body><hr/><div><font style="font-size: 12px;" face="Times New Roman"><span style="font-weight: bold;">McConnel: Chapter 26 — Code-Tuning Techniques</span><br/></font></div><hr/><ul><li><font style="font-size: 12px;" face="Times New Roman">Code tuning refers to small-scale changes rather tan changes in larger-scale designs.</font></li><li><font style="font-size: 12px;" face="Times New Roman">These techniques degrade the internals structure for the purpose of performance gains.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Rules of thumb apply poorly to code tuning. The only reliable rule of thumb is to measure the effects of each tuning in your environment.</font></li></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div><div><span style="font-weight: bold;"><font style="font-size: 12px;" face="Times New Roman">Logic</font></span></div><ul><li><font style="font-size: 12px;" face="Times New Roman">Stop conditional testing when you know the answer (if x &lt; 5 and x &lt; 10)</font></li><li><font style="font-size: 12px;" face="Times New Roman">Order conditional tests by frequency</font></li><li><font style="font-size: 12px;" face="Times New Roman">Compare performance of similar logic structures</font></li><li><font style="font-size: 12px;" face="Times New Roman">Use table lookups instead of complicated expressions</font></li><li><font style="font-size: 12px;" face="Times New Roman">Use lazy evaluation</font></li></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div><div><span style="font-weight: bold;"><font style="font-size: 12px;" face="Times New Roman">Loops</font></span></div><ul><li><font style="font-size: 12px;" face="Times New Roman">Unswitching. Switching refers to making a decision inside a loop every time it is executed. If the decision doesn’t change while the loop is executing, you can unstitch the loop by making the decision outside the loop.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Jamming. Jamming is the result of combining two loops that operate on the same set of elements. You find code in two lops that you can combine into one.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Loop unrolling. Do multiple updates in one iteration of the loop (e.g. update both the i-th and i+1-st element in one loop iteration).</font></li><li><font style="font-size: 12px;" face="Times New Roman">Minimizing the work inside loops.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Sentinel values. When you have a loop with a compound test, you can often save tim bey simplifying the test.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Put the busiest loop on the inside. Put the loop with the more iterations on the inside.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Strength reduction. That is, replace expensive operations with cheap operations.</font></li></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div><div><span style="font-weight: bold;"><font style="font-size: 12px;" face="Times New Roman">Data transformations</font></span></div><ul><li><font style="font-size: 12px;" face="Times New Roman">Use integers rather than floats.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Use the fewest array dimension possible.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Minimize array references.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Use supplementary indexes. For example, if you need access to the length of a list often, you can attach a length parameter to a structure that contains a list and maintain that value.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Independent, parallel index structure. Sometimes it is easier and better to work with and manipulate pointers to big structures stored on disk. This allows us to work with huge data without every loading it into memory.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Use caching.</font></li></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div><div><span style="font-weight: bold;"><font style="font-size: 12px;" face="Times New Roman">Expressions</font></span></div><ul><li><font style="font-size: 12px;" face="Times New Roman">Exploit algebraic identities to reduce computation.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Use strength reduction.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Initialize at compile time.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Be wary of system routines. They are expensive and often too accurate for anybody’s need.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Use the correct type of constants. Use named constants and literals that are the same type as the variables they’re assigned to.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Precompute results and store them in a table.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Eliminate common subexpressions. … by assigning them to variables.</font></li></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div><div><span style="font-weight: bold;"><font style="font-size: 12px;" face="Times New Roman">Routines</font></span></div><ul><li><font style="font-size: 12px;" face="Times New Roman">Rewrite routines inline. Usually useless or hurts performance.</font></li></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div><ul><li><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;"><font style="font-size: 12px;" face="Times New Roman">Recording in a Low-Level Language</font></span></li><ul><li><font style="font-size: 12px;" face="Times New Roman">Write 100% of an application in a high-level language</font></li><li><font style="font-size: 12px;" face="Times New Roman">Fully test the application, and verify that it’s correct.</font></li><li><font style="font-size: 12px;" face="Times New Roman">If performance improvements are needed after that, profile the application to identify hot spots.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Recode a few small pieces in a low-level language to improve overall performance.</font></li><li><font style="font-size: 12px;" face="Times New Roman">You can even optimize in assembly. Best way to do this is to write the code in C first, compile to assembly and then make modifications to this assembly code by hand.</font></li></ul></ul><div><br/></div></body></html>