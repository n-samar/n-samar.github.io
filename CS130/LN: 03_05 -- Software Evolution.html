<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.0.2 (456266)"/><meta name="author" content="NIKOLA SAMARDZIC"/><meta name="created" content="2018-03-09 04:25:55 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2018-03-13 21:47:43 +0000"/><title>LN: 03/05 -- Software Evolution</title></head><body><hr/><div><font face="Times New Roman" style="font-size: 12px;"><span style="font-weight: bold;">Lecture Notes: March 5 — Software Evolution (Debugging, Refactoring, Tuning)</span><br/></font></div><hr/><div><span style="font-weight: bold;"><font face="Times New Roman" style="font-size: 12px;">CBSE (Component-Based Software Engineering)</font></span></div><ul><li><font face="Times New Roman" style="font-size: 12px;">Advantage: it makes software evolution easier. CBSE implies modular design. If one component evolves, it won’t affect others.</font></li><li><font face="Times New Roman" style="font-size: 12px;">You still must write some (glue) code.</font></li><ul><li><font face="Times New Roman" style="font-size: 12px;"><span style="text-decoration: underline;">Asses</span> potential components</font></li><li><font face="Times New Roman" style="font-size: 12px;"><span style="text-decoration: underline;">Adapt</span> components for you environment</font></li><li><font face="Times New Roman" style="font-size: 12px;"><span style="text-decoration: underline;">Compose</span> components onto your platform</font></li><li><font face="Times New Roman" style="font-size: 12px;"><span style="text-decoration: underline;">Update</span> your components as new versions become available</font></li></ul><li><font face="Times New Roman" style="font-size: 12px;">Example of CBSE: Debian/stretch — 68,792 packages (components)</font></li><ul><li><font face="Times New Roman" style="font-size: 12px;">package system records:</font></li><ul><li><font face="Times New Roman" style="font-size: 12px;">upstream version (source code)</font></li><li><font face="Times New Roman" style="font-size: 12px;">Deltas</font></li><li><font face="Times New Roman" style="font-size: 12px;">dependencies (may be version dependent)</font></li></ul></ul><li><font face="Times New Roman" style="font-size: 12px;">How to <span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;">assess packages for your own use</span>?</font></li><ul><li><font face="Times New Roman" style="font-size: 12px;">search engine to find them</font></li><li><font face="Times New Roman" style="font-size: 12px;">see what other people are using (look at competition)</font></li><li><font face="Times New Roman" style="font-size: 12px;">what is the stability of the supplier?</font></li><li><font face="Times New Roman" style="font-size: 12px;">what are the dependencies?</font></li><li><font face="Times New Roman" style="font-size: 12px;">what are the outstanding bug reports?</font></li></ul></ul><div><font face="Times New Roman" style="font-size: 12px;"><br/></font></div><div><span style="font-weight: bold;"><font face="Times New Roman" style="font-size: 12px;">Software Evolution</font></span></div><ul><li><font face="Times New Roman" style="font-size: 12px;">Concerned about changes to the software after delivery</font></li><li><font face="Times New Roman" style="font-size: 12px;">Possible causes of post-delivery changes:</font></li><ul><li><font face="Times New Roman" style="font-size: 12px;">Bugs</font></li><li><font face="Times New Roman" style="font-size: 12px;">changes to the business</font></li><li><font face="Times New Roman" style="font-size: 12px;">changes in technologies</font></li></ul><li><font face="Times New Roman" style="font-size: 12px;">Like software development in many ways</font></li><ul><li><font face="Times New Roman" style="font-size: 12px;">BUT important difference — you need to understand the existing system</font></li></ul></ul><div><font face="Times New Roman" style="font-size: 12px;"><br/></font></div><div><span style="font-weight: bold;"><font face="Times New Roman" style="font-size: 12px;">Tools for software evolution</font></span></div><ul><li><font face="Times New Roman" style="font-size: 12px;">Source code analysis</font></li><li><font face="Times New Roman" style="font-size: 12px;">Source code translation</font></li><li><font face="Times New Roman" style="font-size: 12px;">Reindent source code</font></li><li><font face="Times New Roman" style="font-size: 12px;">modularize source code</font></li><li><font face="Times New Roman" style="font-size: 12px;">schema change tools</font></li><li><font face="Times New Roman" style="font-size: 12px;">schema extraction tools</font></li></ul><div><font face="Times New Roman" style="font-size: 12px;"><br/></font></div><ul><li><font face="Times New Roman" style="font-size: 12px;">Often can’t talk to original developers. <span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;">Why can evolution be hard</span>?</font></li><ul><li><font face="Times New Roman" style="font-size: 12px;">lost the source code</font></li><li><font face="Times New Roman" style="font-size: 12px;">lost the compiler</font></li><li><font face="Times New Roman" style="font-size: 12px;">code obfuscation (if good enough, equivalent to losing the source code)</font></li></ul></ul><div><font face="Times New Roman" style="font-size: 12px;"><br/></font></div><ul><li><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;"><font face="Times New Roman" style="font-size: 12px;">Business considerations</font></span></li><ul><li><font face="Times New Roman" style="font-size: 12px;">Metrics (cost, failure rate, …)</font></li><ul><li><font face="Times New Roman" style="font-size: 12px;">Interface complexity</font></li><li><font face="Times New Roman" style="font-size: 12px;">Volatility of the requirements</font></li><li><font face="Times New Roman" style="font-size: 12px;">Number of kinds of users</font></li></ul><li><font face="Times New Roman" style="font-size: 12px;">Business value</font></li><li><font face="Times New Roman" style="font-size: 12px;">Options for evolution:</font></li><ul><li><font face="Times New Roman" style="font-size: 12px;">Scrap the old system</font></li><li><font face="Times New Roman" style="font-size: 12px;">Limp along as before with routine maintenance </font></li><li><font face="Times New Roman" style="font-size: 12px;">Reengineer the software</font></li><li><font face="Times New Roman" style="font-size: 12px;">Replace</font></li></ul></ul></ul><div><font face="Times New Roman" style="font-size: 12px;"><br/></font></div><ul><li><font face="Times New Roman" style="font-size: 12px;">Somerville’s <span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;">statistics for changes</span> to software</font></li><ul><li><font face="Times New Roman" style="font-size: 12px;">1/3 development</font></li><li><font face="Times New Roman" style="font-size: 12px;">2/3 maintenance. Of which:</font></li><ul><li><font face="Times New Roman" style="font-size: 12px;">1/6 bug fixing</font></li><li><font face="Times New Roman" style="font-size: 12px;">1/6 porting</font></li><li><font face="Times New Roman" style="font-size: 12px;">2/3 functionality</font></li></ul></ul></ul><div><font face="Times New Roman" style="font-size: 12px;"><br/></font></div><div><span style="font-weight: bold;"><font face="Times New Roman" style="font-size: 12px;">Debugging</font></span></div><ul><li><font face="Times New Roman" style="font-size: 12px;">can take &gt;50% of your time!</font></li><li><font face="Times New Roman" style="font-size: 12px;">20:1 ratio for experienced/inexperienced</font></li><li><font face="Times New Roman" style="font-size: 12px;">10:1 or 15:1 even if people are trained to debug</font></li><li><font face="Times New Roman" style="font-size: 12px;">least-well-understood part of software construction</font></li><li><font face="Times New Roman" style="font-size: 12px;">How <span style="text-decoration: underline;">not</span> to debug?</font></li><ul><li><font face="Times New Roman" style="font-size: 12px;">make a change that makes the issues go away without knowing why it works.</font></li><li><font face="Times New Roman" style="font-size: 12px;">assume the problem is not your fault</font></li></ul></ul><div><font face="Times New Roman" style="font-size: 12px;"><br/></font></div><div><span style="font-weight: bold;"><font face="Times New Roman" style="font-size: 12px;">Procedures for debugging</font></span></div><ul><li><font face="Times New Roman" style="font-size: 12px;">You need to stabilize the error (which test case exposes the bug?)</font></li><ul><li><font face="Times New Roman" style="font-size: 12px;">make the fault reproducible</font></li><li><font face="Times New Roman" style="font-size: 12px;">simplify the test case as much as possible</font></li></ul><li><font face="Times New Roman" style="font-size: 12px;">Locate the fault in the source code</font></li><ul><li><font face="Times New Roman" style="font-size: 12px;">Form a hypothesis (comes from lack of understanding)</font></li><li><font face="Times New Roman" style="font-size: 12px;">Test the hypothesis</font></li><li><font face="Times New Roman" style="font-size: 12px;">Repeat</font></li></ul><li><font face="Times New Roman" style="font-size: 12px;">Fix the defect</font></li><li><font face="Times New Roman" style="font-size: 12px;">Test the fix</font></li><li><font face="Times New Roman" style="font-size: 12px;">Look for similar faults in your code</font></li></ul><div><font face="Times New Roman" style="font-size: 12px;"><br/></font></div><ul><li><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;"><font face="Times New Roman" style="font-size: 12px;">Good questions while debugging</font></span></li><ul><li><font face="Times New Roman" style="font-size: 12px;">Are similar faults elsewhere?</font></li><li><font face="Times New Roman" style="font-size: 12px;">Will the fix introduce another bug?</font></li><li><font face="Times New Roman" style="font-size: 12px;">How could we have prevented this bug?</font></li></ul></ul><div><font face="Times New Roman" style="font-size: 12px;"><br/></font></div><ul><li><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;"><font face="Times New Roman" style="font-size: 12px;">Useful heuristic while debugging</font></span></li><ul><li><font face="Times New Roman" style="font-size: 12px;">Something gets to a value it shouldn’t have. How to find how the system got into this invalid state?</font></li><ul><li><font face="Times New Roman" style="font-size: 12px;">Single stepping through execution</font></li><li><font face="Times New Roman" style="font-size: 12px;">Binary search (divide and conquer)</font></li></ul><li><font face="Times New Roman" style="font-size: 12px;">Make one fix at a time</font></li><li><font face="Times New Roman" style="font-size: 12px;">Keep out of ruts. That is, you need a time budget for debugging. At some point, switch your debugging strategy.</font></li></ul></ul><div><font face="Times New Roman" style="font-size: 12px;"><br/></font></div><div><span style="font-weight: bold;"><font face="Times New Roman" style="font-size: 12px;">Refactoring</font></span></div><ul><li><font face="Times New Roman" style="font-size: 12px;">Commonly associated with the agile approach</font></li><ul><li><font face="Times New Roman" style="font-size: 12px;">Maintain messily at first</font></li><li><font face="Times New Roman" style="font-size: 12px;">Clean up by refactoring</font></li><li><font face="Times New Roman" style="font-size: 12px;">Repeat</font></li></ul><li><font face="Times New Roman" style="font-size: 12px;"><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;">Danger signs suggesting that you need refactoring</span>:</font></li><ul><li><font face="Times New Roman" style="font-size: 12px;">Duplicate code</font></li><li><font face="Times New Roman" style="font-size: 12px;">Unused code</font></li><li><font face="Times New Roman" style="font-size: 12px;">Awkward API</font></li><li><font face="Times New Roman" style="font-size: 12px;">Poorly encapsulated classes</font></li><li><font face="Times New Roman" style="font-size: 12px;">Class that doesn’t do much</font></li><li><font face="Times New Roman" style="font-size: 12px;"># if you change this, also change foo.c: 396</font></li><li><font face="Times New Roman" style="font-size: 12px;">Too many nesting levels, subclasses, args</font></li><li><font face="Times New Roman" style="font-size: 12px;">Class doesn’t provide a consistent level of abstraction</font></li></ul></ul><div><font face="Times New Roman" style="font-size: 12px;"><br/></font></div><div><span style="font-weight: bold;"><font face="Times New Roman" style="font-size: 12px;">Refactoring methods</font></span></div><ul><li><font face="Times New Roman" style="font-size: 12px;">Refactoring should be done separately from debugging and tuning.</font></li><li><font face="Times New Roman" style="font-size: 12px;">Refactoring is often discovery.</font></li></ul><div><font face="Times New Roman" style="font-size: 12px;"><br/></font></div><div><span style="font-weight: bold;"><font face="Times New Roman" style="font-size: 12px;">Tuning</font></span></div><ul><li><font face="Times New Roman" style="font-size: 12px;">Roughly equivalent to anti-refactoring</font></li><li><font face="Times New Roman" style="font-size: 12px;">Changing the code without changing the behavior</font></li><li><font face="Times New Roman" style="font-size: 12px;">Avoid overdoing it</font></li><li><font face="Times New Roman" style="font-size: 12px;">Oftentimes, the best response to a tuning requests is to ignore it</font></li><li><font face="Times New Roman" style="font-size: 12px;">Performance discussion with the client requires some care</font></li><li><font face="Times New Roman" style="font-size: 12px;"><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;">Alternatives to tuning</span>:</font></li><ul><li><font face="Times New Roman" style="font-size: 12px;">Convince the customer it is not needed</font></li><li><font face="Times New Roman" style="font-size: 12px;">Change your platform</font></li><li><font face="Times New Roman" style="font-size: 12px;">Write a different program</font></li><li><font face="Times New Roman" style="font-size: 12px;">Wait for better hardware to come by</font></li></ul></ul><div><br/></div></body></html>