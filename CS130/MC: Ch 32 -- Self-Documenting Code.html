<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.0.2 (456266)"/><meta name="author" content="NIKOLA SAMARDZIC"/><meta name="created" content="2018-03-11 00:16:29 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2018-03-13 21:52:07 +0000"/><title>MC: Ch 32 -- Self-Documenting Code</title></head><body><div><hr/><div><span style="font-weight: bold;"><font style="font-size: 12px;" face="Times New Roman">McConnell: Chapter 32 — Self-Documenting Code</font></span></div><hr/><ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;">Unit Development folders (UDF)</span><span style="font-style: italic;">. </span>A UDF is an informal document that contains notes used by a developer during construction. </font></li><ul><li><font style="font-size: 12px;" face="Times New Roman">A unit is loosely defined as a class or package or component.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Goal is to provide a documented trail of design decisions that are not documented elsewhere.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Often for internal use only</font></li></ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;">Detailed-design document</span><span style="font-style: italic;">. </span>This is the low-level design document.</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman">It describes class-level or routine-level design decisions, the alternatives considered, and the reasons for selecting the approaches that were selected.</font></li></ul></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div></div><div><span style="font-weight: bold;"><font style="font-size: 12px;" face="Times New Roman">Programming Style as Documentation</font></span></div><div><ul><li><font style="font-size: 12px;" face="Times New Roman">Because it is most closely associated with the code, internal documentation is also the kind of documentation most likely to remain correct as the code is modified.</font></li><li><font style="font-size: 12px;" face="Times New Roman">The Holy Grail of legibility: self-documenting code</font></li></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div><div><span style="font-weight: bold;"><font style="font-size: 12px;" face="Times New Roman">CHECKLIST: Self-Documenting Code</font></span></div><div><ul><li><font style="font-size: 12px;" face="Times New Roman">Classes</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman">Does the class’s interface present a consistent abstraction?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Is the class well named, and does its name describe its central purpose?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Does the class’s interface make obvious how you should use the class?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Is the class’s interface abstract enough that you don’t have to think about how its services are implemented? Can you treat the class as a black box?</font></li></ul><li><font style="font-size: 12px;" face="Times New Roman">Routines</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman">Does each routine’s name describe exactly what the routine does?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Does each routine perform one well-defined task?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Have all parts of each routine that would benefit from being put into their own routines been put into their own routines?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Is each routine’s interface obvious and clear?</font></li></ul><li><font style="font-size: 12px;" face="Times New Roman">Data Names</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman">Are type names descriptive enough to help document data declarations?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Are variables named well?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Are variables used only for the purpose for which they’re named?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Are loop counters given more informative names than i, j, and k?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Are well-named enumerated types used instead of makeshift flags or boolean variables?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Are named constants used instead of magic numbers or magic strings?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Do naming conventions distinguish between type names, enumerated types, named constants, local variables, class variables, and global variables?</font></li></ul><li><font style="font-size: 12px;" face="Times New Roman">Data Organization</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman">Are extra variables used for clarity when needed?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Are references to variables close together?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Are data types simple so that they minimize complexity?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Is complicated data accessed through abstract access routines (abstract data types)?</font></li></ul><li><font style="font-size: 12px;" face="Times New Roman">Control</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman">Is the nominal path through the code clear?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Are related statements grouped together?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Have relatively independent groups of statements been packaged into their own routines?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Does the normal case follow the if rather than the else?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Are control structures simple so that they minimize complexity?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Does each loop perform one and only one function, as a well-defined routine would?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Is nesting minimized?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Have boolean expressions been simplified by using additional boolean variables, boolean functions, and decision tables?</font></li></ul><li><font style="font-size: 12px;" face="Times New Roman">Layout</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman">Does the program’s layout show its logical structure?</font></li></ul><li><font style="font-size: 12px;" face="Times New Roman">Design</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman">Is the code straightforward, and does it avoid cleverness?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Are implementation details hidden as much as possible?</font></li><li><font style="font-size: 12px;" face="Times New Roman">Is the program written in terms of the problem domain as much s possible rather than in terms of computer-science or programming-language structures?</font></li></ul></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div><div><span style="font-weight: bold;"><font style="font-size: 12px;" face="Times New Roman">To Comment or not to comment?</font></span></div><div><ul><li><font style="font-size: 12px;" face="Times New Roman">Comments could easily be more damaging than helpful.</font></li><li><font style="font-size: 12px;" face="Times New Roman">It is harder to write good than bad comments.</font></li></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div><div><span style="font-weight: bold;"><font style="font-size: 12px;" face="Times New Roman">Types of Comments</font></span></div><div><ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Repeat of code</span> — effectively useless</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Explanation of code</span> — useless most of the time unless the code is particularly tricky</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Marker in the code</span> — A marker comment is one that is not intended to be left in the code (e.g. TODO tags). Make sure these are standardized, or even better that they are formatted so that they show up as compiler warnings.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Summary of the code</span> — quickly describe the functionality of multiple lines of code</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Description of the code’s intent</span> — A comment at the level of intent explains the purpose of the section of code. Maintenance programmers at IBM reported that the understanding of the original programmer’s intent was the most difficult maintenance issue.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Information that cannot be expressed in code itself</span> — This includes copyright notices, confidentiality notices, version numbers, and other housekeeping details.</font></li></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div><div><span style="font-weight: bold;"><font style="font-size: 12px;" face="Times New Roman">Keys to Effective Comments</font></span></div><ul><li><font style="font-size: 12px;" face="Times New Roman">Don’t write comments that state what is already obvious in the code</font></li><li><font style="font-size: 12px;" face="Times New Roman">Don’t write incorrect and imprecise comments</font></li><li><font style="font-size: 12px;" face="Times New Roman">Make sure your commenting style isn’t time consuming or tedious to implement (if the comments are hard to change they will not be changed)</font></li><li><font style="font-size: 12px;" face="Times New Roman">Integrate commenting into your development style, i.e. comment while you code not after.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Performance is not a good reason to avoid commenting.</font></li></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div><ul><li><font style="font-size: 12px;" face="Times New Roman">IBM studies suggest that having 1 comment roughly every 10 statements makes clarity peak.</font></li></ul><div><font style="font-size: 12px;" face="Times New Roman"><br/></font></div></div></div></div></div><div><span style="font-weight: bold;"><font style="font-size: 12px;" face="Times New Roman">Commenting Techniques</font></span></div><div><ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;">Commenting individual lines</span><span style="font-style: italic;">.</span> In good code, the need to comment individual lines of code is rare. </font></li><ul><li><font style="font-size: 12px;" face="Times New Roman">Why would a line of code need a comment?</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman">The single line is complicated enough to need an explanation</font></li><li><font style="font-size: 12px;" face="Times New Roman">The single line once had an error, and  you want a record of the error</font></li></ul><li><font style="font-size: 12px;" face="Times New Roman">Avoid self-indulgent comments.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Avoid endline comments on single lines</span>. Endline comments and their problems:</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman">The comments need to be aligned to the right of the code so that they don’t interfere with the visual structure of the code</font></li><li><font style="font-size: 12px;" face="Times New Roman">They are hard to format</font></li><li><font style="font-size: 12px;" face="Times New Roman">They are hard to align with each other </font></li><li><font style="font-size: 12px;" face="Times New Roman">These comments tend to be shorter, as the programmer tries to fit the comment before he/she runs off the end of the line.</font></li><li><font style="font-size: 12px;" face="Times New Roman">They are part of the systemic problem that it’s hard to write a meaningful comment for one line of code.</font></li></ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Avoid endline comments for multiple lines of code</span>. If an endline comment is intended to apply o more than one line of code, the formatting doesn’t show which lines the comment applies to.</font></li><li><span style="font-style: italic;"><font style="font-size: 12px;" face="Times New Roman">When can endline comments be useful?</font></span></li><ul><li><font style="font-size: 12px;" face="Times New Roman">Use endline comments to annotate data declarations.</font></li><li><font style="font-size: 12px;" face="Times New Roman">Use endline comments to mark ends of blocks.</font></li></ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Avoid using endline comments for maintenance notes</span>. Maintenance remarks belong in version control. The source code should describe why the code works now, not why it didn’t work in the past.</font></li></ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;">Commenting Paragraphs of Code</span>.</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Write comments at the level of the code’s intent</span>. Comment paragraphs in the similar style as you would name a routine that performed the paragraph’s purpose.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Focus your documentation efforts on the code itself. </span>Before writing a comment to describe unclear code, ask yourself if the code could be written clearer.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Focus paragraph comments on the why rather than the how</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Use comments to prepare the reader for what is to follow</span>. A reader should be able to scan only the comments and get a good idea of what the code does and where to look for a specific activity.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Make every comment count</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Document surprises</span>. If you find anything that isn’t obvious from the code itself, put it into a comment.</font></li><li><span style="font-style: italic;"><font style="font-size: 12px;" face="Times New Roman">Avoid abbreviations. </font></span></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Differentiate between major and minor comments</span>. Precede minor comments with ellipses (// …) and leave major comments be.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Comment anything that gets around an error or an undocumented feature in a language or an environment</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Justify violations of good programming style</span>. This prevents future programmers from breaking the code by going back to a good style.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Don’t comment tricky code, rewrite it</span>.</font></li></ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;">Commenting Data Declarations</span><span style="font-style: italic;">. </span>Describe aspects of the variable that the variable name can’t describe. Possibly, annotating data is more important than annotating statements.</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Comment the units of numeric data</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Comment the range of allowable numeric values</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Comment coded meanings</span>. Preferably, use enumerated types if you code meaning into values. If you can’t do that, comment the meaning.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Comment limitations on input data</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Document flags to the bit level</span>. (if a variable is used as a bit field)</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Stamp comments related to a variable with the variable’s name</span>. This means including the variable name in each comment that refers to it. If the variable is later modified, the stamped comment can be easily located and adapted.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Document global data</span>. Also, use a naming convention that will accent all global variables.</font></li></ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;">Commenting Control Structures</span>.</font></li><ul><li><span style="font-style: italic;"><font style="font-size: 12px;" face="Times New Roman">Put a comment before each if, case, loop, or block of statements.</font></span></li><li><span style="font-style: italic;"><font style="font-size: 12px;" face="Times New Roman">Comment the end of each control structure.</font></span></li><li><span style="font-style: italic;"><font style="font-size: 12px;" face="Times New Roman">Treat end-of-loop comments as a warning indicating complicated code.</font></span></li></ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;">Commenting Routines</span>.</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Don’t over-comment before a routine.</span> This is hard to maintain and discourages creating new routines. That is, it encourages bad programming practice.</font></li><li><span style="font-style: italic;"><font style="font-size: 12px;" face="Times New Roman">Keep comments close to the code they describe.</font></span></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Describe each routine in one or two sentences at the top of the routine</span>. If you can’t make the comment that short, you probably need to think harder about what and how you want to do.</font></li><li><span style="font-style: italic;"><font style="font-size: 12px;" face="Times New Roman">Document parameters where they are declared.</font></span></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Take advantage of code documentation utilities</span>. For example, JavaDoc.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Differentiate between input and output data</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Document interface assumptions</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Comment on the routine’s limitations</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Document the routine’s global effects</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Document the source of algorithms that are used</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Use comments to mark parts of your program</span>. You can mark different types of comments differently, depending on what they describe.</font></li></ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;">Commenting Classes, Files, and Programs</span>.</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman">The documentation task is to provide a meaningful, top-level view of the contents of the file, class, or program.</font></li><li><font style="font-size: 12px;" face="Times New Roman">For classes:</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Describe the design approach to the class</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Describe limitations, usage assumptions, and so on</span>.</font></li><li><span style="font-style: italic;"><font style="font-size: 12px;" face="Times New Roman">Comment the class interface.</font></span></li><li><span style="font-style: italic;"><font style="font-size: 12px;" face="Times New Roman">Don’t document implementation details in the class interface.</font></span></li></ul><li><font style="font-size: 12px;" face="Times New Roman">For files:</font></li><ul><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Describe the purpose and contents of each file</span>.  If the file contains more than one class, explain why the classes need to be combined into a single file. If the classes are divided into files for some reason other than modularity, a good description would be helpful.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Put your name, e-mail address, and phone number in the block comment</span>. Authorship and primary responsibility for specific areas of source code becomes important on large projects.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Include a version-control tag</span>. Many version-control tools will insert version information into a file.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Include legal notices in the block comment</span>.</font></li><li><font style="font-size: 12px;" face="Times New Roman"><span style="font-style: italic;">Give the file a name related to its contents.</span> </font></li></ul></ul></ul></div><div><br/></div></body></html>