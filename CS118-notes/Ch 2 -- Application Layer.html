<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.0.2 (456266)"/><meta name="author" content="NIKOLA SAMARDZIC"/><meta name="created" content="2018-03-09 05:29:58 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2018-03-09 05:32:09 +0000"/><title>Ch 2 -- Application Layer</title></head><body><div><hr/></div><div><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-weight: bold;">Chapter 2 — Application Layer</span></div><hr/><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Two predominant architectural paradigms used in modern network applications:</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Client-server architecture</span><span style="font-size: 12px; font-family: 'Helvetica Neue';">:</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Always-on host called a </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">server</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Many other hosts called </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">clients</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Better known applications: the Web, FTP, Telnet, e-mail.</span></li></ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Peer-to-peer (P2P)</span><span style="font-size: 12px; font-family: 'Helvetica Neue';">:</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Applications include BitTorrent, Xunlei (peer-assisted download acceleration), Skype, IPTV</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">self-scalable, cost effective</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Three challenges:</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">ISP Friendly</span><span style="font-size: 12px; font-family: 'Helvetica Neue';">. ISPs are dimensioned asymmetrically between upload and download speed which is a problem for P2P.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Security. </span><span style="font-size: 12px; font-family: 'Helvetica Neue';">Challenge to secure because of open nature.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Incentives. </span><span style="font-size: 12px; font-family: 'Helvetica Neue';">P2P has to incentives users to provide upload bandwidth.</span></li></ul></ul></ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">In the context of a communication session between a pair of processes, the process that initiates the communication is labeled as the </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">client</span><span style="font-size: 12px; font-family: 'Helvetica Neue';">. The process that waits to be contacted to begin the session is the </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">server.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">A process sends messages into, and receives messages from, the network through a software interface called a </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">socket.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">The socket is the interface between the application and transport layers of the host.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">The only transport layer data that an application layer developer can touch are</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">the choice of transport protocol</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">some other parameters, like maximum bugger and segment sizes</span></li></ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">The receiving process is identified through</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">The IP address of the host</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">The port which specifies the process on the destination host</span></li></ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Reserved ports:</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Web server HTML requests must be sent to port 80</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">A mail server process is identified by port number 25</span></li></ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Reliable data transfer</span><span style="font-size: 12px; font-family: 'Helvetica Neue';"> implies that the underlying protocol is able to provide guarantees on message delivery.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Services a protocol can provide:</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">reliable data transfer</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">guaranteed minimum throughput</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Timing guarantees</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Security</span></li></ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">TCP</span><span style="font-size: 12px; font-family: 'Helvetica Neue';"> is a connection-oriented service and a reliable data transfer service.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">TCP is connection-oriented in the sense that it exchanges handshaking messages before real data is sent through.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">When the network is congested between server and client, TCP will throttle sending data between them.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">UDP is a lightweight transport protocol that provides minimal services.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">UDP is good for real time multimedia or communication applications like Skype. Since it has no overhead and these applications can tolerate data loss.</span></li></ul><div><br/></div><div><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-weight: bold;">The Web and HTTP</span></div><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">The </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">HyperText Transfer Protocol (HTTP)</span><span style="font-size: 12px; font-family: 'Helvetica Neue';"> is at the heart the Internet application called the </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">World Wide Web.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Web servers </span><span style="font-size: 12px; font-family: 'Helvetica Neue';">implement the server side of HTTP.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">HTTP defines how Web clients request Web pages from Web servers and how servers transfer Web pages to clients.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">HTTP uses TCP.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">HTTP is </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">stateless.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">If the TCP requests from client to server are sent over the same TCP connection the connection is called </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">persistent. </span><span style="font-size: 12px; font-family: 'Helvetica Neue';">Otherwise it is characterized as </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">non-persistent.</span><span style="font-size: 12px; font-family: 'Helvetica Neue';"> By default HTTP uses persistent TCP.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Usually, parallel TCP connections are used on a per-object non-persistent basis to decrease load time.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Round-trip time (RTT)</span><span style="font-size: 12px; font-family: 'Helvetica Neue';"> is the time it takes for a small packet to travel from client to server and then back to the client.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">HTTP Request format:</span></li></ul><div><br/></div><div><span style="font-size: 12px; font-family: 'Helvetica Neue';">GET /somedir/page.html HTTP/1.1</span></div><div><span style="font-size: 12px; font-family: 'Helvetica Neue';">Host: </span><a href="http://www.someschool.edu" style="font-size: 12px; font-family: 'Helvetica Neue';">www.someschool.edu</a></div><div><span style="font-size: 12px; font-family: 'Helvetica Neue';">Connection: close</span></div><div><span style="font-size: 12px; font-family: 'Helvetica Neue';">User-agent: Mozilla/5.0</span></div><div><span style="font-size: 12px; font-family: 'Helvetica Neue';">Accept-language: fr</span></div><div><br/></div><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">The first line is called the </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">request line</span><span style="font-size: 12px; font-family: 'Helvetica Neue';">, and all subsequent lines are called the </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">header lines. </span><span style="font-size: 12px; font-family: 'Helvetica Neue';">Aside from GET, you can use POST, HEAD, PUT, DELETE. Host specifies the host on which the object resides. The connection close line tells the browser to not bother with persistent connections. User-agent specifies the agent that is making the request in name of the user.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">With a POST request, the requested object depends on the input to the current page by the user.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">PUT is used to publish data to a location.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">DELETE is used to delete data from a location.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">HEAD is the same as GET except the requested object is omitted from the response by the server. This is useful for debugging purposes.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">HTTP Response Message</span><span style="font-size: 12px; font-family: 'Helvetica Neue';">:</span></li></ul><div><br/></div><div><span style="font-size: 12px; font-family: 'Helvetica Neue';">HTTP/1.1 200 OK</span></div><div><span style="font-size: 12px; font-family: 'Helvetica Neue';">Connection: close</span></div><div><span style="font-size: 12px; font-family: 'Helvetica Neue';">Date: Tue, 09 Aug 2011 15:44:04 GMT</span></div><div><span style="font-size: 12px; font-family: 'Helvetica Neue';">Server: Apache/2.2.3 (CentOS)</span></div><div><span style="font-size: 12px; font-family: 'Helvetica Neue';">Last-Modified: Tue, 09 Aug 2011 15:11:03 GMT</span></div><div><span style="font-size: 12px; font-family: 'Helvetica Neue';">Content-Length: 6821</span></div><div><span style="font-size: 12px; font-family: 'Helvetica Neue';">Content-type: text/html</span></div><div><br/></div><div><span style="font-size: 12px; font-family: 'Helvetica Neue';">(data data data …)</span></div><div><br/></div><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Possible response messages:</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">200 OK</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">301 Moved Permanently</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">400 Bad Request</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">404 Not Found</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">505 HTTP Version Not Supported</span></li></ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Since HTTP is stateless, if the server wants to restrict access or wants to serve content as a function of the user identity it may use </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">cookies</span><span style="font-size: 12px; font-family: 'Helvetica Neue';"> to do so.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Cookies contain:</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">a cookie header line in the HTTP response message</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">a cookie header line in the HTTP request message</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">a cookie file kept on the user’s end system and managed by the user’s browser</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">a back-end database at the Web site</span></li></ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">A Web cache</span><span style="font-size: 12px; font-family: 'Helvetica Neue';"> (or </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">proxy server</span><span style="font-size: 12px; font-family: 'Helvetica Neue';">) is a network entity that satisfies HTTP requests on the behalf of an origin Web server. The cache has its own disk storage and keeps copies of recently requested object in this storage. This cache operates on a similar principle as PC-internal caches. This provides:</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Faster delivery of content to users</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Reduce traffic to the main server</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Reduce traffic on the internet infrastructure as a whole</span></li></ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Content Distribution Networks (CDNs)</span><span style="font-size: 12px; font-family: 'Helvetica Neue';">, are companies that install many geographically distributed caches throughout the internet infrastructure.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Conditional GETs</span><span style="font-size: 12px; font-family: 'Helvetica Neue';"> can be used by proxy servers to pull data from the main server only if the data they have has gone stale (this is done using the if-modified-since header tag).</span></li></ul><div><br/></div><div><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-weight: bold;">File Transfer Protocol (FTP)</span></div><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">In a typical FTP session, the user is sitting in front of one host (the local host) and wants to transfer files to or from a remote host.  After successful authentication, the user can communicate with the remote host and send files to/from it.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">HTTP an FTP are both file transfer protocols and both run on top of TCP.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">FTP — in contrast to HTTP — uses two parallel connections:</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">control connection. </span><span style="font-size: 12px; font-family: 'Helvetica Neue';">used for sending control information between the two hosts. Info including identification, password, commands to change the remote directory, and commands to put and get files.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">data connection. </span><span style="font-size: 12px; font-family: 'Helvetica Neue';">used to send the actual files.</span></li></ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">This separation of data and control connections is called </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">out-of-band, </span><span style="font-size: 12px; font-family: 'Helvetica Neue';">while HTTP is called </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">in-band.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">An FTP connection is established through the following steps:</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">The client side of FTP first initiates a control TCP connection with the server side on server port number 21.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">The client side of FTP sends the user ID and password over this control connection.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">When the server receives a command for a file transfer over the control connection, the server side initiates a TCP data connection to the client.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">FTP sends exactly one file over the data connection and then closes the data connection.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">A new data connection is established for each file transfer.</span></li></ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">FTP must keep </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">state</span><span style="font-size: 12px; font-family: 'Helvetica Neue';"> about the user. It must associate the control connection with a user account and the server must keep track of the user’s current directory as the user wanders about the remote directory tree.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Keeping track of all state data implies that FTP cannot maintain as many sessions per server.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Common FTP commands:</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">USER username: Used to send the user identification to the server</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">PASS password: Used to send the user password to the server</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">LIST: Used to ask the server to send back a list of all the files in the current remote directory. The list, of course, is sent over the data connection.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">RETR filename: Used to retrieve a file from the current directory of the remote host. this command causes the remote host to initiate a data connection and to send the requested file over the data connection.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">STOR filename: Used to store (that is, put) a file into the current directory of the remote host.</span></li></ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">The server always sends a response over the data channel to any command from the client:</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">331 Username OK, password required</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">121 Data connection already open; transfer starting</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">425 Can’t open data connection</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">452 Error writing file</span></li></ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Simple Mail Transfer Protocol (SMTP)</span><span style="font-size: 12px; font-family: 'Helvetica Neue';">: Principle application-layer protocol for Internet electronic mail.</span></li></ul><div><br/></div><div><img src="Ch%202%20--%20Application%20Layer.resources/Screen%20Shot%202018-01-20%20at%201.21.37%20PM.png" height="456" width="590"/><br/></div><div><img src="Ch%202%20--%20Application%20Layer.resources/Screen%20Shot%202018-01-20%20at%201.27.45%20PM.png" height="154" width="666"/><br/></div><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">There are no servers being employed between the two user’s servers. The messages are usually sent directly from one server to the other with no proxy.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">So, if Bob’s mail server is down, the message remains in Alice’s mail server and waits for a new attempt.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">SMTP transfers messages through the following steps:</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Establishes TCP connection to port 25 of destination server. If server is down, the client tries again later.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">The two servers introduce themselves (and emails they are associated with) to each other</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">The client finally sends the message</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Sends any additional messages to the same destination server and closes the TCP connection</span></li></ul></ul><div><img src="Ch%202%20--%20Application%20Layer.resources/Screen%20Shot%202018-01-20%20at%201.35.09%20PM.png" height="293" width="541"/><br/></div><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">HTTP, in comparison to SMTP, is mainly a </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">pull protocol, </span><span style="font-size: 12px; font-family: 'Helvetica Neue';">i.e. the connection is initiated by a client that wants to pull data from a server. SMTP is primarily a </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">push protocol, </span><span style="font-size: 12px; font-family: 'Helvetica Neue';">i.e. the connection is initiated by a client that wants to push data to the server.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">HTTP, in comparison to SMTP, is not restricted to only 7-bit ASCII.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">In SMTP all of the message’s objects (e.g. images) are placed into a single TCP message.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Since the mail server, like other servers, is best to remain always on and connected to the internet, a common mail server is used by many users and accessed through the user agent (which is usually the user’s PC).</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">The mail server is usually maintained by the user’s ISP.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Why have messages be sent out through the client’s mail server, instead of using the client’s user agent to contact the destination mail server directly? Because the client mail server may be down, the sender’s mail server will ensure that sending is retried every, say, 30 minutes until the message reaches the target’s mail server. This is something the client cannot do.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Mail access protocols</span><span style="font-size: 12px; font-family: 'Helvetica Neue';"> are used to pull messages from the mail server into the appropriate user’s user agent. These pulls are initiated by the user agent. Types include:</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Post Office Protocol — Version 3 (POP3)</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Internet Mail Access Protocol (IMAP)</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">HTTP</span></li></ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">POP3</span><span style="font-size: 12px; font-family: 'Helvetica Neue';"> pull messages through the following steps:</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">The client opens a TCP connection to the mail server on port 110</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Authorization: user agent sends a username and password to authenticate the user.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Transaction: user agent pull the actual messages</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Update: After the quit command is issued by the client, the mail server deletes the messages that were marked for deletion and closes.</span></li></ul></ul><div><img src="Ch%202%20--%20Application%20Layer.resources/Screen%20Shot%202018-01-20%20at%202.06.26%20PM.png" height="129" width="333"/><br/></div><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">POP3 does not allow for a user to create remote folders and assign messages to folders. </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">IMAP</span><span style="font-size: 12px; font-family: 'Helvetica Neue';"> can do this.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">In IMAP, the received messages are automatically stored in the INBOX folder. From there, the user can change the location of the message into another directory and store this hierarchy on the mail server.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">With </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">web based email</span><span style="font-size: 12px; font-family: 'Helvetica Neue';"> the user agent is an ordinary Web browser, and the user communicates with its remote mailbox via HTTP. When a user wants to pull messages from the mail server to his user agent, this is done via HTTP. Also, sending a messages is also done through HTTP. But, the servers still communicate with each other through SMTP.</span></li></ul><div><br/></div><div><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-weight: bold;">DNS — Internet’s Directory Service</span></div><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">The </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Domain Name System (DNS)</span><span style="font-size: 12px; font-family: 'Helvetica Neue';"> translates IP addresses to hostnames and vis versa. DNS is</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">a distributed database implemented in a hierarchy of </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">DNS servers</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">an application-layer protocol that allows hosts to query the distributed database.</span></li></ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">The DNS protocol runs over UDP and uses port 53.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">DNS is used by HTTP, SMTP, FTP to translate user-supplied hostnames to IP addresses.</span></li><li><span style="font-family: 'Helvetica Neue'; font-size: 12px;">In order to send an HTTP request message to the Web server </span><a href="http://www.someschool.edu" style="font-family: 'Helvetica Neue'; font-size: 12px;">www.someschool.edu</a><span style="font-family: 'Helvetica Neue'; font-size: 12px;">, the user’s host must first obtain the IP address of </span><a href="http://www.someschool.edu" style="font-family: 'Helvetica Neue'; font-size: 12px;">www.someschool.edu</a><span style="font-family: 'Helvetica Neue'; font-size: 12px;">. These are the steps:</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">The same user machine runs the client side of the DNS application</span></li><li><span style="font-family: 'Helvetica Neue'; font-size: 12px;">The browser extracts the hostname, </span><a href="http://www.someschool.edu" style="font-family: 'Helvetica Neue'; font-size: 12px;">www.someschool.edu</a><span style="font-family: 'Helvetica Neue'; font-size: 12px;">, from the URL and passes the hostname to the client side of the DNS app.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">The DNS client sends a query containing the hostname to a DNS server.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">The DNS client eventually receives a reply, which includes the IP address for the hostname,</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Once the browser receives the IP address from DNS, it can initiate a TCP connection to the HTTP server process located at port 80 at that IP address.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Usually, the required IP address is cached in a nearby DNS server, so the overhead of fetching the IP address is not too high.</span></li></ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Host aliasing</span><span style="font-size: 12px; font-family: 'Helvetica Neue';">: hosts with complicated names, may have more mnemonic aliases that translate to the same IP address. Still, a </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">canonical hostname </span><span style="font-size: 12px; font-family: 'Helvetica Neue';">is uniquely defined.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Mail server aliasing.</span><span style="font-size: 12px; font-family: 'Helvetica Neue';"> </span><a href="mailto:bob@hotmail.com" style="font-size: 12px; font-family: 'Helvetica Neue';">bob@hotmail.com</a><span style="font-family: 'Helvetica Neue'; font-size: 12px;"> is probably not linked to the actual mail server named </span><a href="http://hotmail.com" style="font-family: 'Helvetica Neue'; font-size: 12px;">hotmail.com</a><span style="font-family: 'Helvetica Neue'; font-size: 12px;">, but this works due to </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">mail server aliasing.</span><span style="font-family: 'Helvetica Neue'; font-size: 12px;"> Probably his mail server goes something like </span><a href="http://relay1.west-coast.hotmail.com" style="font-family: 'Helvetica Neue'; font-size: 12px;">relay1.west-coast.hotmail.com</a><span style="font-family: 'Helvetica Neue'; font-size: 12px;">. DNS can still figure out what is Bob’s canonical hostname and IP.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Load distribution. </span><span style="font-size: 12px; font-family: 'Helvetica Neue';">DNS is in charge of load distribution among replicated servers. For replicated web servers, a set of IP addresses is associated with an address. DNS sends back all the IP addresses linked to a hostname, but in order of least load first.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">The problems with a possible centralized DNS architecture include:</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">A single point of failure. </span><span style="font-size: 12px; font-family: 'Helvetica Neue';">If the DNS server crashes, so does the whole Internet</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Traffic volume. </span><span style="font-size: 12px; font-family: 'Helvetica Neue';">A single DNS server would have to handle all DNS queries</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Distant centralized database.</span><span style="font-size: 12px; font-family: 'Helvetica Neue';"> Induces significant delays</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Maintenance.</span><span style="font-size: 12px; font-family: 'Helvetica Neue';"> The single DNS server would have to keep records for all Internet hosts. Frequent updates would be necessary to reflect a changing internet.</span></li></ul></ul><div><img src="Ch%202%20--%20Application%20Layer.resources/Screen%20Shot%202018-01-20%20at%203.14.49%20PM.png" height="217" width="538"/><br/></div><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Authoritative DNS servers. </span><span style="font-size: 12px; font-family: 'Helvetica Neue';">Each organization with publicly accessible hosts on the Internet must provide publicly accessible DNS records that map the names of those hosts to IP addresses.</span></li></ul><div><br/></div><div><img src="Ch%202%20--%20Application%20Layer.resources/Screen%20Shot%202018-01-20%20at%203.21.21%20PM.png" height="501" width="448"/><br/></div><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">DNS cached data is discarded after two days to make sure it does not go stale.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Aside from caching the mappings from hostnames to IP addresses, the DNS servers can also cache Authoritative DNS IPs or TLD DNS IPs that are known to have the required IP translation. This way, contacting the root/TLD DNS can be avoided.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Resource records. </span><span style="font-size: 12px; font-family: 'Helvetica Neue';">DNS submits resource records using a four-tuple (Name, Value, Type, TTL):</span></li><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">TTL specifies when the record will go stale and should be deleted from any cached repository.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">If Type=A, the Name is a hostname and Value is an IP address for the hostname.</span></li><li><span style="font-family: 'Helvetica Neue'; font-size: 12px;">If Type=NS, the Name is a domain (such as </span><a href="http://foo.com" style="font-family: 'Helvetica Neue'; font-size: 12px;">foo.com</a><span style="font-family: 'Helvetica Neue'; font-size: 12px;">) and Value is the hostname of an authoritative DNS server that knows how to obtain the IP address for hosts in the domain.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">If Type=CNAME, the Value is a canonical hostname for the alias hostname Name.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">If Type=MX, then Value is the canonical name of a mail server that has an alias hostname Name.</span></li></ul></ul><div><img src="Ch%202%20--%20Application%20Layer.resources/Screen%20Shot%202018-01-20%20at%203.38.48%20PM.png" height="367" width="548"/><br/></div><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">A </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">registrar</span><span style="font-size: 12px; font-family: 'Helvetica Neue';"> is a commercial entity that verifies the uniqueness of a domain name and enters it into a DNS database. It also collects a small fee for this service.</span></li></ul><div><br/></div><div><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-weight: bold;">Peer-to-Peer Applications</span></div><ul><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">How to distribute a single file from your computer to anyone who wishes to download it?</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue';">Ask connected neighbors for </span><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">rarest chunk first.</span></li><li><span style="font-size: 12px; font-family: 'Helvetica Neue'; font-style: italic;">Distributed Hash Tables (DHTs) </span><span style="font-size: 12px; font-family: 'Helvetica Neue';">are simple database implementations implemented in a P2P network. Any peer can query for any (key, value) pair and any peer can add any (key, value) pair.</span></li></ul><div><br/></div></body></html>