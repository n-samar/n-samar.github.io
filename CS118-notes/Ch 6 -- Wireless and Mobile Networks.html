<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.0.2 (456266)"/><meta name="author" content="NIKOLA SAMARDZIC"/><meta name="created" content="2018-03-09 05:49:30 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2018-03-09 23:34:38 +0000"/><title>Ch 6 -- Wireless and Mobile Networks</title></head><body><div><hr/></div><div><span style="font-weight: bold;"><font style="font-size: 12px;">Chapter 6 — Wireless and Mobile Networks</font></span></div><hr/><div><ul><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue';">Elements of wireless network:</span></font></li><ul><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue'; font-style: italic;">Wireless hosts.</span><span style="font-family: 'Helvetica Neue';"> </span></font></li><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue'; font-style: italic;">Wireless links. </span><span style="font-family: 'Helvetica Neue';">A host connects to a base station or to another wireless host through a </span><span style="font-family: 'Helvetica Neue'; font-weight: bold;">wireless communication link</span><span style="font-family: 'Helvetica Neue';">.</span></font></li><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue'; font-style: italic;">Base station.</span><span style="font-family: 'Helvetica Neue';"> No obvious counterpart in a wired network. Responsible for sending and receiving data to and from a wireless host that is associated with that base station. By associated, we mean:</span></font></li><ul><li><span style="font-family: 'Helvetica Neue';"><font style="font-size: 12px;">The host is within the wireless communication distance of the base station</font></span></li><li><span style="font-family: 'Helvetica Neue';"><font style="font-size: 12px;">The host uses that base station to relay data between it and the larger network. </font></span></li><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue'; font-weight: bold;">Cell towers</span><span style="font-family: 'Helvetica Neue';"> in cellular networks and </span><span style="font-family: 'Helvetica Neue'; font-weight: bold;">access points </span><span style="font-family: 'Helvetica Neue';">in 802.11 wireless LANs are examples of base stations</span></font></li></ul><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue'; font-style: italic;">Network infrastructure.</span><span style="font-family: 'Helvetica Neue';"> </span></font></li></ul><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue'; font-weight: bold;">Handoff</span><span style="font-family: 'Helvetica Neue';"> — process of a host changing its base stations usually by moving around.</span></font></li><li><span style="font-family: 'Helvetica Neue';"><font style="font-size: 12px;">Classification of wireless networks can be done based on:</font></span></li><ul><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue';">Whether a packet in the wireless network crosses exactly </span><span style="font-family: 'Helvetica Neue'; font-style: italic;">one wireless hop</span><span style="font-family: 'Helvetica Neue';"> or </span><span style="font-family: 'Helvetica Neue'; font-style: italic;">multiple wireless hops</span></font></li><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue';">Whether there is </span><span style="font-family: 'Helvetica Neue'; font-style: italic;">infrastructure</span><span style="font-family: 'Helvetica Neue';"> such as a base station in the network:</span></font></li></ul><li><span style="font-family: 'Helvetica Neue';"><font style="font-size: 12px;">These classifications give us the following options:</font></span></li><ul><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue'; font-style: italic;">Single-hop, infrastructure-based network</span><span style="font-family: 'Helvetica Neue';">. These networks have a base station that is connected to a larger wired network (e.g., the Internet). Furthermore, all communication is between this base station and a wireless host over a single wireless hop. This includes 802.11 that you use in the classroom, cafe, or library, as well as 3G cellular data.</span></font></li><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue'; font-style: italic;">Single-hop, infrastructure-less</span><span style="font-family: 'Helvetica Neue';">. There is no base station that is connected to a wireless network. Bluetooth networks and 802.11 networks in ad hoc mode are single-hop, infrastructure-less networks.</span></font></li><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue'; font-style: italic;">Multi-hop, infrastructure-based</span><span style="font-family: 'Helvetica Neue';">. Some wireless sensor networks and so-called </span><span style="font-family: 'Helvetica Neue'; font-weight: bold;">wireless mesh networks</span><span style="font-family: 'Helvetica Neue';"> fall in this category.</span></font></li><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue'; font-style: italic;">Multi-hop, infrastructure-less. </span><span style="font-family: 'Helvetica Neue';">This includes the set of </span><span style="font-family: 'Helvetica Neue'; font-weight: bold;">mobile ad hoc networks (MANETs)</span><span style="font-family: 'Helvetica Neue';">. If the mobile nodes are vehicles, the network is a </span><span style="font-family: 'Helvetica Neue'; font-weight: bold;">vehicular ad hoc network (VANET)</span><span style="font-family: 'Helvetica Neue';">. </span></font></li></ul></ul><div><div><font style="font-size: 12px;"><br/></font></div></div></div><div><span style="font-family: 'Helvetica Neue'; font-weight: bold;"><font style="font-size: 12px;">Wireless Links and Network Characteristics</font></span></div><div><ul><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue';">Important differences between a wired link and a wireless link:</span></font></li><ul><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue'; font-style: italic;">Decreasing signal strength</span><span style="font-family: 'Helvetica Neue';">. Electromagnetic radiation attenuates as it passes through matter.</span></font></li><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue'; font-style: italic;">Interference from other sources</span><span style="font-family: 'Helvetica Neue';">. Radio sources will interfere with </span><span style="font-family: 'Helvetica Neue';">each other.</span></font></li><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue'; font-style: italic;">Multipath propagation</span><span style="font-family: 'Helvetica Neue';">. Occurs when portions of the electromagnetic wave reflect off objects and the ground, taking paths of different lengths between a sender and receiver. This blurs the signal at the receiver.</span></font></li></ul><li><span style="font-family: 'Helvetica Neue';"><font style="font-size: 12px;">This implies wireless networks come with more bit errors.</font></span></li><li><span style="font-family: 'Helvetica Neue';"><font style="font-size: 12px;">Physical-layer characteristics that are important in understanding higher-layer wireless communication protocols:</font></span></li><ul><li><span style="font-family: 'Helvetica Neue';"><font style="font-size: 12px;">For a given modulation scheme, the higher the signal-to-noise ration, the lower the bit error rate.</font></span></li><li><span style="font-family: 'Helvetica Neue';"><font style="font-size: 12px;">For a given signal-to-noise ration, a modulation technique with a higher bit transmission rate will have a higher bit error rate.</font></span></li><li><span style="font-family: 'Helvetica Neue';"><font style="font-size: 12px;">Dynamic selection of the physical-layer modulation technique can be used to adapt the modulation technique to channel conditions.</font></span></li></ul><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue'; font-weight: bold;">Hidden terminal problem</span><span style="font-family: 'Helvetica Neue';"> — Suppose that both A and C want to transmit to B. Physical obstructions in the environment that prevent A and C from hearing each other’s transmissions even though they are interfering at their mutual destination B.</span></font></li><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue'; font-weight: bold;">Fading</span><span style="font-family: 'Helvetica Neue';"> — describes the fading of the signal’s strength as it propagates through the medium.</span></font></li></ul><div><div><font style="font-size: 12px;"><br/></font></div></div><div><span style="font-family: 'Helvetica Neue'; font-weight: bold;"><font style="font-size: 12px;">Code Division Multiple Access (CDMA)</font></span></div><div><ul><li><span style="font-family: 'Helvetica Neue';"><font style="font-size: 12px;">In Chapter 5 we described three classes of medium access protocols:</font></span></li><ul><li><span style="font-family: 'Helvetica Neue';"><font style="font-size: 12px;">channel partitioning</font></span></li><li><span style="font-family: 'Helvetica Neue';"><font style="font-size: 12px;">random access</font></span></li><li><span style="font-family: 'Helvetica Neue';"><font style="font-size: 12px;">taking turns</font></span></li></ul><li><span style="font-family: 'Helvetica Neue';"><font style="font-size: 12px;">CMDA belongs to the family of channel partitioning protocols. It is prevalent in wireless LAN and cellular technologies.</font></span></li><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue';">In CMDA, each bit being sent is seconded by multiplying the bit by a signal that changes at a much faster rate (known as the </span><span style="font-family: 'Helvetica Neue'; font-weight: bold;">chipping rate</span><span style="font-family: 'Helvetica Neue';">)</span></font></li><li><span style="font-family: 'Helvetica Neue';"><font style="font-size: 12px;">Assumes interfering signals interfere additively</font></span></li><li><span style="font-family: 'Helvetica Neue';"><font style="font-size: 12px;">CDMA thus partitions the codespace (as opposed to time or frequency).</font></span></li></ul><div><div><font style="font-size: 12px;"><img src="Ch%206%20--%20Wireless%20and%20Mobile%20Networks.resources/Screen%20Shot%202018-03-08%20at%2011.10.50%20PM.png" height="606" width="691"/><img src="Ch%206%20--%20Wireless%20and%20Mobile%20Networks.resources/Screen%20Shot%202018-03-08%20at%2011.17.35%20PM.png" height="584" width="562"/></font></div></div></div></div><div><div><font style="font-size: 12px;"><br/></font></div></div><div><span style="font-weight: bold;"><font style="font-size: 12px;">WiFi: 802.11 Wireless LANs</font></span></div><div><ul><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue';">Medium access protocol used: CSMA/CA</span></font></li><li><span style="font-family: 'Helvetica Neue';"><font style="font-size: 12px;">All 802.11 standards use the same link-layer frame structure.</font></span></li><li><span style="font-family: 'Helvetica Neue';"><font style="font-size: 12px;">All standards reduce transmission rate in order to reach out over greater distances.</font></span></li><li><font style="font-size: 12px;"><span style="font-family: 'Helvetica Neue';">All standards allow for </span><span style="font-family: 'Helvetica Neue'; font-style: italic;">infrastructure </span><span style="font-family: 'Helvetica Neue';">and </span><span style="font-family: 'Helvetica Neue'; font-style: italic;">ad hoc mode</span></font></li><li><span style="font-family: 'Helvetica Neue';"><font style="font-size: 12px;">Operates in the unlicensed frequency band of 2.4-2.485 GHz, competing for frequency spectrum with 2.4 GHz phones and microwave ovens.</font></span></li></ul><div><div><font style="font-size: 12px;"><br/></font></div></div><div><span style="font-family: 'Helvetica Neue'; font-weight: bold;"><font style="font-size: 12px;">The 802.11 Architecture</font></span></div><div><div><ul><li><font><font size="2"/><font face="Helvetica Neue"><b style="font-size: 12px;">Basic service set (BSS) </b><font size="2">— fundamental building block of 802.11</font></font><br/></font></li><li><font><font face="Helvetica Neue"><font size="2"><b>Access Point (AP)</b> — central base station of any BSS in 802.11</font></font></font></li><li><font><font face="Helvetica Neue"><font size="2">Each 802.11 wireless station has a  6-byte MAC address just like Ethernet. These addresses are administered by IEEE and are globally unique.</font></font></font></li></ul><div><font face="Helvetica Neue" size="2"><br/></font></div></div></div></div><div><font face="Helvetica Neue" size="2"><i>Channels and Association</i></font></div><div><ul><li><font><font size="2"/><font face="Helvetica Neue"><font size="2">each wireless station needs to associate with an AP before it can send or receive network-layer data.</font></font><br/></font></li><li><font><font face="Helvetica Neue"><font size="2">When a network administrator installs an AP, the administrator assigns a one or two-word <b>Service Set Identifier (SSID)</b> to the access point.</font></font></font></li><li><font><font face="Helvetica Neue"><font size="2">The administrator must also assign a channel number to the AP</font></font></font></li><ul><li><font face="Helvetica Neue" size="2">Recall that 802.11 defines 11 partially overlapping channels. Any two channels are non-overlapping if and only if they are separated by four or more channels.</font></li><li><font face="Helvetica Neue" size="2">So, an administrator could create a wireless LAN with an aggregate maximum transmission rate of 33 Mbps by installing three 802.11 APs at the same physical location, assigning channels 1, 6, and 11 to the APs, and interconnecting them with switches.</font></li></ul><li><font face="Helvetica Neue" size="2">To service AP discovery by hosts, 802.11 requires that an AP periodically send <b>beacon frames</b>, each of which includes the AP’s SSID and MAC address. Your wireless station, scans all 11 channels for these beacon frames.</font></li><li><font face="Helvetica Neue" size="2"><b>Passive scanning</b> — process of hosts scanning for beacon frames</font></li><li><font face="Helvetica Neue" size="2"><b>Active scanning</b> — process of hosts sending a probe frame and listening for responses</font></li><li><font face="Helvetica Neue" size="2">To associate with an AP, the host sends an association request frame to the AP, and the AP responds with an association response frame.</font></li><li><font face="Helvetica Neue" size="2">Authentication services provided by APs for restricted access are usually performed on central servers.</font></li></ul><div><font face="Helvetica Neue" size="2"><br/></font></div><div><font face="Helvetica Neue" size="2"><i>802.11 MAC Protocol</i></font></div><div><ul><li><font><font size="2"/><font face="Helvetica Neue"><font size="2">Uses random access protocol as its multiple access protocol, specifically </font><font size="2"><b>Carrier Sense Multiple Access with collision avoidance (CSMA/CA)</b><i>, </i>i.e. each station senses the channel before transmitting, and refrains from transmitting when the channel is sensed busy.</font></font><br/></font></li><li><font><font face="Helvetica Neue"><font size="2">Differences between CSMA/CA and CSMA/CD:</font></font></font></li><ul><li><font><font face="Helvetica Neue"><font size="2">CSMA/CA uses collision avoidance instead of detection</font></font></font></li><li><font><font face="Helvetica Neue"><font size="2">Due to high bit error rates of wireless channels, 802.11 (unlike Ethernet) uses a link-layer acknowledgment/retransmission (ARQ) scheme.</font></font></font></li><li><font><font face="Helvetica Neue"><font size="2">CSMA/CA does not implement collision detection, <i>i.e.</i> if a node starts transmitting it will not listen to see if there are collisions with other nodes that start transmitting. Why?</font></font></font></li><ul><li><font><font face="Helvetica Neue"><font size="2">The ability to detect collisions requires the ability to send and receive at the same time. That is, the host’s adapter would have to be able to send data and also read for collision data from the Access Point. This is expensive.</font></font></font></li><li><font><font face="Helvetica Neue"><font size="2">Due to hidden terminal problem and fading, even if this technology was implemented it would not be able to detect all collisions</font></font></font></li></ul></ul><li><font face="Helvetica Neue" size="2">So, once a host begins transmitting frames, it continues until it is done. This can significantly degrade performance if collision is frequent, so collision avoidance techniques are used.</font></li><li><font face="Helvetica Neue" size="2">To tackle big bit error rates, 802.11 uses the <b>link-layer acknowledgment </b>scheme.</font></li><ul><li><font face="Helvetica Neue" size="2">When the destination station receives a fram that passes the CRC, it waits a short period of time (<b>short inter-frame spacing (SIFS)</b>) and then sends back an acknowledgment frame.</font></li><li><font face="Helvetica Neue" size="2">If the transmitting station does not receive an ACK within a given time frame, it assumes packet loss/corruption and retransmits.</font></li></ul><li><font face="Helvetica Neue" size="2">The CSMA/CA protocol:</font></li><ul><li><font face="Helvetica Neue" size="2">If the station senses the channel is idle, it transmits its frame after a short period of time known as the <b>Distributed Inter-frame Space (DIFS)</b></font></li><li><font face="Helvetica Neue" size="2">Otherwise, the station chooses a random back off value using binary exponential back off and counts down this value when the channel is sensed idle. While the channel is sensed busy, the counter value remains frozen.</font></li><li><font face="Helvetica Neue" size="2">When the counter reaches zero (which can only occur while the channel is sensed idle), the station transmits the entire frame and then waits for an ACK.</font></li><li><font face="Helvetica Neue" size="2">If ACK received, the transmitting station knows that its frame has been correctly received at the destination. If the ACK is not received or if there are more frames to send, the transmitting station reenters the back off phase in step 2, with a random value chosen from a larger interval.</font></li></ul><li><font face="Helvetica Neue" size="2">Note that in CSMA/CD, a station begins transmitting as soon as the channel is sensed idle. Why does CSMA/CA refrain from transmitting while counting down?</font></li><ul><li><font face="Helvetica Neue" size="2">If two nodes are waiting for a third to stop transmitting, if there is no refrain from transmission then the two would immediately jump at the opportunity to transmit. This is not a problem in CSMA/CD because collisions are detected, but it is a problem with CSMA/CD because there is no collision detection.</font></li></ul><li><font face="Helvetica Neue" size="2">How does a host sense another host is transmitting in 802.11? Since all hosts transmit wirelessly, the host knows the channel is occupied by picking up another node’s frame from the air.</font></li></ul><div><font face="Helvetica Neue" size="2"><br/></font></div><div><font face="Helvetica Neue" size="2"><i>Dealing with Hidden Terminals: RTS and CTS</i></font></div><div><ul><li><font style="font-size: 12px;"><font face="Helvetica Neue">802.11 MAC protocol also includes a reservation scheme that helps avoid collisions even in the presence of hidden terminals.</font><br/></font></li><li><font style="font-size: 12px;"><font face="Helvetica Neue">In order to avoid collision issues due to hidden terminal and fading problems, protocol allows a station to use a <b>Request to Send (RTS)</b> control frame and a short <b>Clear to Send (CTS)</b> control frame to reserve access to the channel.</font></font></li><ul><li><font style="font-size: 12px;"><font face="Helvetica Neue">A host can send an RTS frame to the AP, indicating the total time required to transmit the DATAf frame and the ACK frame.</font></font></li><li><font><font face="Helvetica Neue"><font size="2">When the AP receives the RTS frame, it responds by broadcasting a CTS frame which servers two purposes:</font></font></font></li><ul><li><font face="Helvetica Neue" size="2">Gives the sender explicit permission to send</font></li><li><font face="Helvetica Neue" size="2">Instructs the other stations not to send for the reserved duration</font></li></ul></ul><li><font face="Helvetica Neue" size="2">RTS and CTS can improve performance in two important ways:</font></li><ul><li><font face="Helvetica Neue" size="2">The hidden station problem is mitigated</font></li><li><font face="Helvetica Neue" size="2">Since RTS and CTS frames are short, a collision involving an RTS and CTS frame will last only for the duration of the short RTS or CTS frame. Once the RTS and CTS frames are correctly transmitted, the following DATA and ACK frames should be transmitted without collisions.</font></li></ul></ul><div><font face="Helvetica Neue" size="2"><br/></font></div><div><font face="Helvetica Neue" size="2"><b>The IEEE 802.11 Frame<img src="Ch%206%20--%20Wireless%20and%20Mobile%20Networks.resources/Screen%20Shot%202018-03-09%20at%2010.33.23%20AM.png" height="232" width="637"/></b></font></div><div><ul><li><font><font size="2"/><font face="Helvetica Neue"><font size="2">The numbers above each of the fields in the frame represent the lengths of the fields in <i>bytes</i>; the numbers above each of the subfields in the frame control field represent the lengths of the subfields in <i>bits</i>.</font></font><br/></font></li></ul><div><font face="Helvetica Neue" size="2"><br/></font></div><div><font face="Helvetica Neue" size="2"><i>Address Fields</i></font></div><div><ul><li><font><font size="2"/><font face="Helvetica Neue"><font size="2">4 address fields, each of which can hold a 6-byte MAC address. But isn’t the source and destination MAC address pair enough?</font></font><br/></font></li><ul><li><font><font face="Helvetica Neue"><font size="2">Turns out, three address fields are needed for internetworking purposes — specifically, for moving the network-layer datagram from a wireless station through an AP to a router interface. The fourth address field is used when APs forward frames to each other in ad hoc mode. The first three addresses are defined as follows:</font></font></font></li><ul><li><font><font face="Helvetica Neue"><font size="2">Address 2 is the MAC address of the station that transmits the frame.</font></font></font></li><li><font><font face="Helvetica Neue"><font size="2">Address 1 is the MAC address of the wireless station that is to receive the frame.</font></font></font></li><li><font><font face="Helvetica Neue"><font size="2">Address 3 contains the MAC address of the router interface that connects the subnet of the BSS to the rest of the internet.</font></font></font></li></ul></ul></ul><font face="Helvetica Neue" size="2"/></div><div><font face="Helvetica Neue" size="2"><br/></font></div><font face="Helvetica Neue" size="2"><b/></font></div><font face="Helvetica Neue" size="2"><i/></font></div><font face="Helvetica Neue" size="2"/></div><font face="Helvetica Neue" size="2"/></div><div><img src="Ch%206%20--%20Wireless%20and%20Mobile%20Networks.resources/Screen%20Shot%202018-03-09%20at%2010.43.05%20AM.png" height="421" width="536"/></div><div><ul><li><span style="font-size: small;">When a message is sent to host H1 from the internet through router R1:</span><br/></li><ul><li><font><font><font face="Helvetica Neue"><font size="2">The router, which knows the IP address of H1 (from the destination address of the datagram), uses ARP to determine the MAC address of H1, just as in an ordinary Ethernet LAN. After obtaining H1’s MAC address, router interface R1 encapsulates the datagram within an Ethernet frame. The source address field of this frame contains R1’s MAC address and the destination address field contains H1’s MAC address.</font></font></font></font></li><li><font><font><font face="Helvetica Neue"><font size="2">When the Ethernet frame arrives at the AP, the AP </font></font></font></font><font face="Helvetica Neue" size="2">converts the 802.3 Ethernet frame t an 802.11 frame before transmitting the frame into the wireless channel. The AP fills in address 1 and address 2 with H1’s MAC address and its own MAC address. For address 3, the AP inserts the MAC address of R1. This way, H1 can determine (from address 3) the MAC address of the router interface that sent the datagram into the subnet.</font></li></ul><li><font face="Helvetica Neue" size="2">When H1 sends the response back to the internet through R1:</font></li><ul><li><font face="Helvetica Neue" size="2">H1 creates an 802.11 frame, filling the fields for address 1 and address 2 with the AP’s MAC address and H1’s MAC address. For address 3, H1 inserts R1’s MAC address.</font></li><li><font face="Helvetica Neue" size="2">When the AP receives the 802.11 frame, it converts the frame to an Ethernet frame. The source address field for this frame is H1’s MAC address, and the destination address field is R1’s MAC address. Thus, through address 3 the AP can determine the appropriate destination MAC address when making the Ethernet frame.</font></li></ul></ul><div><font face="Helvetica Neue" size="2"><br/></font></div></div><div><font face="Helvetica Neue" size="2"><i>Sequence Number, Duration, and Frame Control Fields</i></font></div><div><ul><li><font><font size="2"/><font face="Helvetica Neue"><font size="2">The sequence number field in 802.11 frames serves the same purpose here at the link layer as it did in the transport layer in Chapter 3.</font></font><br/></font></li><li><font><font face="Helvetica Neue"><font size="2">The <i>type</i> and <i>subtype</i> fields are used to distinguish the association, RTS, CTS, ACK, and data frames. The <i>to</i> and <i>from </i>fields are used to define the meanings of the different address fields (which change depending on whether ad hoc or infrastructure modes are used, and in case of infrastructure mode, whether a wireless station or an AP is sending the frame).</font></font></font></li></ul><div><font face="Helvetica Neue" size="2"><br/></font></div><div><font face="Helvetica Neue" size="2"><b>Mobility in the Same IP Subnet</b></font></div><div><ul><li><font style="font-size: 12px;"><font face="Helvetica Neue">In order to increase the physical range of a wireless LAN, companies and universities will often deploy multiple BSSs within the same IP subnet.</font><br/></font></li><li><font><font face="Helvetica Neue"><font size="2">This allows for TCP connection and IP address permanence while moving between BSSs within the same LAN.</font></font></font></li><li><font><font face="Helvetica Neue"><font size="2">The interconnection device that connects the two BSSs is not a router, all of the stations in the two BSSs, including the APs, belong to the same IP subnet.</font></font></font></li><li><font><font face="Helvetica Neue"><font size="2">Requires inter-AP protocol to manage correct forwarding from the switch to appropriate BSSs (think of how H1, going from BSS1 to BSS2 will need to have its adapter's MAC address change from being in BSS1 to BSS2).</font></font></font></li></ul><font face="Helvetica Neue" size="2"><b/></font></div><font face="Helvetica Neue" size="2"/></div><div><img src="Ch%206%20--%20Wireless%20and%20Mobile%20Networks.resources/Screen%20Shot%202018-03-09%20at%2011.04.51%20AM.png" height="241" width="358"/></div><div><br/></div><div><font size="1"><b style="font-size: 12px;">Advanced Features in 802.11</b></font></div><div><font size="2"><i>802.11 Rate Adaptation</i></font></div><div><ul><li><font style="font-size: 12px;"><font face="Helvetica Neue">Some 802.11 implementations have a rate adaptation capability that adaptively selects the underlying physical-layer modulation technique to use based on current or recent channel characteristics. If a node sends two frames in a row without receiving an ACK, the transmission rate falls back to the next lower rate.</font><br/></font></li><li><font><font face="Helvetica Neue"><font size="2">Conversely, the transmission rate is increases if consecutive frames get ACKed.</font></font></font></li></ul><div><font face="Helvetica Neue" size="2"><br/></font></div><div><font face="Helvetica Neue" size="2"><i>Power Management</i></font></div><div><ul><li><font style="font-size: 12px;"><font face="Helvetica Neue">minimizes the amount of time that the sense, transmit, and receive functions and other circuitry need to be on in hosts. </font><br/></font></li><li><font><font face="Helvetica Neue"><font size="2">The host informs the AP when it is going to sleep so that the AP knows not to transmit any data to it. Thus, the AP buffers any frames until the host wakes up.</font></font></font></li></ul><div><font face="Helvetica Neue" size="2"><br/></font></div><div><font face="Helvetica Neue" size="2"><b>Personal Area Networks: Bluetooth and Zigbee</b></font></div><div><font face="Helvetica Neue" size="2"><i>Bluetooth</i></font></div><div><ul><li><font style="font-size: 12px;"><font face="Helvetica Neue">IEEE 802.15.1 operates over a short range, at low power, and at low cost.</font><br/></font></li><li><font><font face="Helvetica Neue"><font size="2">802.11 is a higher-power, medium range, higher-rate access technology.</font></font></font></li><li><font><font face="Helvetica Neue"><font size="2">802.15.1 are referred to as wireless personal are networks (WPANs).</font></font></font></li><li><font><font face="Helvetica Neue"><font size="2">802.15.1 networks operate in </font></font></font><font face="Helvetica Neue" size="2">the 2.4 GHz unlicensed radio band in a time-division multiplexing (TDM) manner, with time slots of 625 microseconds.</font></li><li><font face="Helvetica Neue" size="2">There are 79 channels. During each time slot, a sender transmits on one of 79 channels, with the channel changing in a known but pseudorandom manner from slot to slot (<b>frequency-hopping spread spectrum (FHSS)</b>).</font></li><li><font face="Helvetica Neue" size="2">802.15.1 is ad hoc network.</font></li><li><font face="Helvetica Neue" size="2">802.15.1 devices are first organized into a <b>piconet</b> of up to eight active devices. One of the devices is designated as the master.</font></li></ul><div><font face="Helvetica Neue" size="2"><br/></font></div><div><font face="Helvetica Neue" size="2"><i>Zigbee</i></font></div><div><ul><li><font style="font-size: 12px;"><font face="Helvetica Neue">802.14.5 standard</font><br/></font></li><li><font style="font-size: 12px;"><font face="Helvetica Neue">Targets at lower-powered, lower-data-rate, lower-duty-cycle applications than Bluetooth.</font></font></li><li><font style="font-size: 12px;"><font face="Helvetica Neue">Channel rates of 20, 40, 100, and 250 Kbps</font></font></li><li><font><font face="Helvetica Neue"><font size="2">Zigbee network divides time into recurring super frames, each of which begins with a beacon frame. Each beacon frame divides the super frame into an active period (during which devices may transmit) and an inactive period (during which all devices, including the controller, can sleep and thus conserve power).</font></font></font></li></ul><div><font face="Helvetica Neue" size="2"><br/></font></div><div><font face="Helvetica Neue" size="2"><b>6.4 Cellular Internet Access</b></font></div><div><font face="Helvetica Neue" size="2"><b><br/></b></font></div><div><font face="Helvetica Neue" size="2"><b>Overview of Cellular Network Architecture</b></font></div><div><ul><li><font style="font-size: 12px;"><b/><font face="Helvetica Neue"><b>Global System for Mobile Communication (GSM) </b>standard</font><br/></font></li></ul><div><font face="Helvetica Neue" size="2"><br/></font></div><div><font face="Helvetica Neue" size="2"><i>Cellular Network Architecture, 2G: Voice Connections to the Telephone Network</i></font></div><div><ul><li><font><font size="2"/><font face="Helvetica Neue"><i style="font-size: 12px;">cellular</i><font size="2"> refers to the fact that the region covered by a cellular network is partitioned into a number of geographic coverage areas (cells).</font></font><br/></font></li><li><font><font face="Helvetica Neue"><font size="2">Each cell contains a <b>base transceiver station (BTS)</b> that transmits signals to and receives signals from the mobile stations in its cell.</font></font></font></li><li><font face="Helvetica Neue" size="2">The GSM standard for 2G cellular systems uses combined FDM/TDM (radio) for the air interface.</font></li></ul><font face="Helvetica Neue" size="2"/></div><font face="Helvetica Neue" size="2"><b/></font></div><font face="Helvetica Neue" size="2"/></div><font face="Helvetica Neue" size="2"/></div><font face="Helvetica Neue" size="2"/></div><font size="2"/></div><div><font size="1"><b style="font-size: 12px;"/></font></div><div><font style="font-size: 12px;"><img src="Ch%206%20--%20Wireless%20and%20Mobile%20Networks.resources/Screen%20Shot%202018-03-09%20at%2011.44.37%20AM.png" height="491" width="735"/></font></div><div><ul><li><font><font><font size="2"/><font face="Helvetica Neue"><font size="2">A GSM network’s </font><b style="font-size: 12px;">base station controller (BSC)</b><font size="2"> will typically service several tens of base transceiver stations. The role of the BSC is to allocate BTS radio channels to mobile </font></font></font><font face="Helvetica Neue" size="2">subscribers, perform <b>paging</b> (finding the cell in which  mobile user is resident), and perform handoff of mobile users.</font><br/></font></li><li><font><font face="Helvetica Neue" size="2">The VSC and its controlled base transceiver stations collectively </font></font><font face="Helvetica Neue" size="2">constitute a GSM <b>base station system (BSS)</b>.</font></li><li><font face="Helvetica Neue" size="2"><b>Mobile Switching Center (MSC)</b> plays the central role in user authorization and accounting (e.g., determining whether a mobile device is allowed to connect to the cellular network), call establishment and teardown, and handoff.</font></li><li><font face="Helvetica Neue" size="2">One provider will have several MSCs.</font></li><li><font face="Helvetica Neue" size="2"><b>Gateway MSCs</b> connect the provider’s cellular network to the larger public telephone network.</font></li></ul><div><font face="Helvetica Neue" size="2"><br/></font></div></div><div><font face="Helvetica Neue" size="2"><b>3G Cellular Data Networks: Extending the Internet to Cellular Subscribers</b></font></div><div><font face="Helvetica Neue" size="2"><i>3G Core Network</i></font></div><div><ul><li><font><font size="2"/><font face="Helvetica Neue"><font size="2">The 3G core cellular data network connects radio access networks to the public Internet.</font></font><br/></font></li><li><font><font face="Helvetica Neue"><font size="2">Goal: Leave the existing core GSM cellular voice network untouched, adding additional cellular data functionality in parallel to the existing cellular voice network.</font></font></font></li></ul><font face="Helvetica Neue" size="2"/></div><div><img src="Ch%206%20--%20Wireless%20and%20Mobile%20Networks.resources/Screen%20Shot%202018-03-09%20at%2011.52.46%20AM.png" height="583" width="737"/></div><div><ul><li><font style="font-size: 12px;" face="Helvetica Neue">Two types of nodes in the 3G core network:</font><br/></li><ul><li><font face="Helvetica Neue"><b style="font-size: 12px;">Servicing GPRS Support Nodes (SGSNs): </b><font size="2">responsible for delivering datagrams to/from the mobile nodes in the radio access network to which the SGSN is attached. It interacts with the network’s MSC for that area, providing user authorization and handoff, maintaining location information about active mobile does, and performing datagram forwarding between mobile nodes in the radio access network and a GGSM.</font></font></li><li><font face="Helvetica Neue" size="2"><b>Gateway GPRS Support Nodes (GGSNs): </b>Acts as a gateway, connecting multiple SGSNs into the larger Internet. The last piece of 3G infrastructure that a datagram originating at a mobile node encounters before entering the larger Internet. To the internet, the GGSN looks like any other gateway router.</font></li><li><font face="Helvetica Neue" size="2"><b>GPRS — Generalized Packet Radio Service</b></font></li></ul></ul><div><font face="Helvetica Neue" size="2"><i><br/></i></font></div><div><font face="Helvetica Neue" size="2"><i>3G Radio Access Network: The Wireless Edge</i></font></div></div><div><ul><li><font><font><font size="2"/><font face="Helvetica Neue"><font size="2">The 3G radio access network is the wireless first-hop network that we see as a 3G user. The </font><font size="2"><b>Radio Network Controller (RNC)</b> typically controls several cell base transceiver stations similar to the base stations that we encounter in 2G systems.</font></font></font></font></li><li><font><font><font face="Helvetica Neue"><font size="2">The RNC connects to bot the circuit-switched cellular voice network via an MSC, and to the packet-switched Internet via an SGSN.</font></font></font></font></li><li><font><font><font face="Helvetica Neue"><font size="2">A change in 3G UMTS over 2G networks is that rather than using GSM’s FDMA/TDMA scheme, UMTS uses a CDMA technique known as Direct Sequence Wideband CDMA (DS-WCDMA) within TDMA slots; TDMA slots, in turn, are available on multiple frequencies. This means 3G UMTS uses all three dedicated channel-sharing approaches</font></font></font></font></li></ul><div><font face="Helvetica Neue" size="2"><br/></font></div></div><div><font face="Helvetica Neue" size="2"><b>On to 4G: LTE</b></font></div><div><ul><li><font style="font-size: 12px;"><font face="Helvetica Neue">4G Long-Term Evolution (LTE) standard brings two important innovations over 3G:</font><br/></font></li><ul><li><font face="Helvetica Neue" size="2"><b>Evolved Packet Core (EPC).</b> A simplified all-IP core network that unifies the separate circuit-switched cellular voice network and the packet-switched cellular data network. Called all-IP because both voice and data are carried in IP datagrams. </font></li><ul><li><font face="Helvetica Neue" size="2">EPC provides clear separation between the network control and user data planes. </font></li><li><font face="Helvetica Neue" size="2">EPC allows multiple types of radio access networks, including legacy 2G and 3G radio access networks, to attach to the core network.</font></li></ul><li><font face="Helvetica Neue" size="2"><b>LTE Radio Access Network.</b> LTE uses a combination of frequency division multiplexing and time division multiplexing on the downstream channel, known as orthogonal frequency division multiplexing (OFDM).</font></li><ul><li><font face="Helvetica Neue" size="2">The decision of which mobile nodes will be allowed to transmit in a given time slot on a given frequency is determined by the scheduling algorithms provided by the LTE equipment vendor and/or the network operator.</font></li></ul></ul></ul><div><font face="Helvetica Neue" size="2"><br/></font></div><div><font face="Helvetica Neue" size="2"><b>6.5 Mobility Management: Principles</b></font></div><div><ul><li><font style="font-size: 12px;"><font face="Helvetica Neue">Dimensions of mobility:</font><br/></font></li><ul><li><font><font face="Helvetica Neue"><font size="2"><i>From the network layer’s standpoint, how mobile is a user?</i> If the user associates with the same access point regardless of location, the user is not mobile from he perspective of the link layer.</font></font></font></li><li><font><font face="Helvetica Neue"><font size="2"><i>How important is it for the mobile node’s address to always remain the same?</i> If we need to maintain a TCP connection as the host moves, maintaining the same IP address would be convenient.</font></font></font></li><li><font><font face="Helvetica Neue"><font size="2"><i>What supporting wired infrastructure is available?</i> Do we need network infrastructure to support mobility? Can we have hosts communicate even without any presence of network infrastructure?</font></font></font></li></ul><li><font face="Helvetica Neue" size="2">In a network setting, the permanent home of a mobile node is known as the <b>home network</b>. The entity within the home network that performs the mobility management functions discussed below on behalf of the mobile node is known as the <b>home agent</b>. </font></li><li><font face="Helvetica Neue" size="2">The network in which the mobile node is currently residing is known as the <b>foreign network</b>.</font></li><li><font face="Helvetica Neue" size="2">A <b>correspondent</b> is the entity wishing to communicate with the mobile node.</font></li></ul><div><font face="Helvetica Neue" size="2"><br/></font></div><div><font face="Helvetica Neue" size="2"><b>Addressing</b></font></div><div><ul><li><font><font size="2"/><font face="Helvetica Neue"><font size="2">In order for user mobility to be transparent to network applications, it is desirable for a mobile node to keep its address as it moves from one network to another.<img src="Ch%206%20--%20Wireless%20and%20Mobile%20Networks.resources/Screen%20Shot%202018-03-09%20at%2012.56.21%20PM.png" height="468" width="655"/></font></font><br/></font></li><li><font face="Helvetica Neue" size="2">One possible way of managing mobility would be to have the network routers advertise new mobile connections to the rest of the internet. This has a major drawback of not being scalable.</font></li><li><font face="Helvetica Neue" size="2">The approach implemented in practice:</font></li><ul><li><font face="Helvetica Neue" size="2">Foreign agent creates a <b>care-of address (COA)</b> for the mobile node, with the network position of the COA matching that of the foreign network.</font></li><li><font face="Helvetica Neue" size="2">There are thus two addresses associated with a mobile node, its <b>permanent address</b> and its COA, sometimes known as <b>foreign address.</b></font></li></ul></ul><div><font face="Helvetica Neue" size="2"><b><br/></b></font></div><div><font face="Helvetica Neue" style="font-size: 12px;"><b>Routing to a Mobile Node</b></font></div><div><div><i><font style="font-size: 12px;">Indirect Routing to a Mobile Node</font></i></div><div><ul><li><font style="font-size: 12px;"><font face="Helvetica Neue">In this approach:</font><br/></font></li><ul><li><font><font face="Helvetica Neue"><font size="2">the correspondent addresses the datagram to the mobile node’s permanent address and sends the datagram into the </font></font></font><font face="Helvetica Neue" size="2">network, unaware of whether the mobile node is resident in its home network or is visiting a foreign network.</font></li><li><font face="Helvetica Neue" size="2">The home agent is on the lookout for arriving datagrams addressed to nodes whose home network is that of the home agent but that are currently resident in a foreign network. The home agent intercepts these datagrams and then forwards them to a mobile node in a two-step process.</font></li><li><font face="Helvetica Neue" size="2">The home agent addresses the datagram using the mobile node’s COA</font></li><li><font face="Helvetica Neue" size="2">To keep the original datagram intact (because the mobile hosts shouldn’t know that the routing was done through the home agent) the home agent <b>encapsulates</b> the correspondent’s original complete datagram within a new (larger) datagram. </font></li><li><font face="Helvetica Neue" size="2">This larger datagram is addressed and delivered to the mobile node’s COA.</font></li></ul></ul><div><font face="Helvetica Neue" size="2"><br/></font></div><i><font style="font-size: 12px;"/></i></div><ul/><font face="Helvetica Neue" size="2"><b/></font></div><font face="Helvetica Neue" size="2"><b/></font></div><font face="Helvetica Neue" size="2"><b/></font></div><font face="Helvetica Neue" size="2"><b/></font></div><div><img src="Ch%206%20--%20Wireless%20and%20Mobile%20Networks.resources/Screen%20Shot%202018-03-09%20at%201.04.49%20PM.png" height="526" width="673"/></div><div><ul><li><font style="font-size: 12px;"><font face="Helvetica Neue">New network-layer functionality required to support mobility:</font><br/></font></li><ul><li><font style="font-size: 12px;"><font face="Helvetica Neue"><i>Mobile-node-to-foreign-agent protocol</i>. The mobile node will register with the foreign agent when attaching to the foreign network and deregister when it leaves the foreign network.</font></font></li><li><font><font face="Helvetica Neue"><i style="font-size: 12px;">Foreign-agent-to-home-agent registration protocol</i><font size="2">. The foreign agent will register the mobile node’s COA with the home agent.</font></font></font></li><li><font><font face="Helvetica Neue"><font size="2"><i>A home-agent datagram encapsulation protocol.</i> Encapsulation and forwarding of the correspondent’s original datagram within a datagram address to the COA.</font></font></font></li><li><font><font face="Helvetica Neue"><font size="2"><i>A foreign-agent decapsulation protocol</i>. </font></font></font></li></ul></ul><div><font face="Helvetica Neue" size="2"><br/></font></div></div><div><font face="Helvetica Neue" size="2"><i>Direct Routing to a Mobile Node</i></font></div><div><ul><li><font style="font-size: 12px;"><font face="Helvetica Neue">Indirect routing approach suffers from an inefficiency known as the <b>triangle routing problem</b></font><br/></font></li><li><font face="Helvetica Neue" size="2"><b>Direct routing</b> circumvents this issue at a cost of added complexity.</font></li><li><font face="Helvetica Neue" size="2">With direct routing, the <b>correspondent agent</b> first learn the COA of the mobile node.</font></li><li><font face="Helvetica Neue" size="2">The correspondent agent then tunnels datagrams directly to the mobile noe’s COA</font></li><li><font face="Helvetica Neue" size="2">Two important additional challenges:</font></li><ul><li><font face="Helvetica Neue" size="2">A <b>mobile-user location protocol</b> is needed for the correspondent agent to query the home agent to obtain the mobile node’s COA</font></li><li><font face="Helvetica Neue" size="2">When the mobile node moves from one foreign network to another, how will data now be forwarded to the new foreign network?</font><br/></li><ul><li><font face="Helvetica Neue" size="2">With indirect routing, you just update the COA maintained by the home agent.</font></li><li><font face="Helvetica Neue" size="2">However, with direct routing, the home agent is queried for the COA by the correspondent agent only once at the beginning of the session.</font></li></ul></ul></ul><font face="Helvetica Neue" size="2"><i/></font></div><div><img src="Ch%206%20--%20Wireless%20and%20Mobile%20Networks.resources/Screen%20Shot%202018-03-09%20at%201.16.00%20PM.png" height="543" width="714"/></div><div><ul><li><font><font style="font-size: 12px;"><font face="Helvetica Neue">What happens when a mobile node moves from one foreign network to another?</font></font><br/></font></li></ul></div><div><img src="Ch%206%20--%20Wireless%20and%20Mobile%20Networks.resources/Screen%20Shot%202018-03-09%20at%201.23.55%20PM.png" height="473" width="726"/></div><div><br/></div><div><b><font style="font-size: 12px;">6.6 Mobile IP</font></b></div><div><ul><li><font style="font-size: 12px;"><font face="Helvetica Neue">The mobile IP standard consists of three main pieces:</font><br/></font></li><ul><li><font style="font-size: 12px;"><font face="Helvetica Neue"><i>Agent discovery</i>. Mobile IP defines the protocols used by a home or foreign agent to advertise its services to mobile nodes, and </font></font><font face="Helvetica Neue" size="2">protocols for mobile nodes to solicit the services of a foreign or home agent.</font></li><li><font face="Helvetica Neue" size="2"><i>Registration with the home agent.</i> Mobile IP defines the protocols used by the mobile node and/or foreign agent to register and deregister COAs with a mobile node’s home agent.</font></li><li><font face="Helvetica Neue" size="2"><i>Indirect routing of datagrams.</i> The standard also defines the manner in which datagrams are forwarded to mobile nodes by a home agent, including rules for forwarding datagrams, rules for handling error conditions, and several forms of encapsulation.</font></li></ul></ul><div><font face="Helvetica Neue" size="2"><br/></font></div><div><font face="Helvetica Neue" size="2"><i>Agent Discovery</i></font></div><div><ul><li><font><font size="2"/><font face="Helvetica Neue"><font size="2">The discovery of a new foreign agent, with a new network address that allows the network layer in a mobile node to learn that it has moved into a new foreign network.</font></font><br/></font></li><li><font><font face="Helvetica Neue"><font size="2"><b>Agent advertisement</b> — a foreign or home agent advertises its services using an extension to the existing router discovery protocol. </font></font></font></li><ul><li><font><font face="Helvetica Neue"><font size="2">The agent periodically broadcasts an ICMP message with a type field of 9 on a ll links to which it is connected. This message is used to advertise agent services to a mobile node and contains:</font></font></font></li><ul><li><font><font face="Helvetica Neue"><font size="2"><i>Home agent bit (H)</i>. Indicates that the agent is a home agent for the network in which it resides.</font></font></font></li><li><font><font face="Helvetica Neue"><font size="2"><i>Foreign agent bit (F).</i> Indicates that the agent is a foreign agent for the </font></font></font><font face="Helvetica Neue" size="2">network in which it resides.</font></li><li><font face="Helvetica Neue" size="2"><i>Registration required bit (R)</i>. Indicates that a mobile user in this network must register with a foreign agent. In particular, a mobile user cannot obtain a care-of address in the foreign network and assume the functionality of the foreign agent for itself, without registering with the foreign agent.</font></li><li><font face="Helvetica Neue" size="2"><i>M, G encapsulation bits</i>. Indicate whether a form of encapsulation other than IP-in-IP encapsulation will be used.</font></li><li><font face="Helvetica Neue" size="2"><i>Care-of address (COA) fields</i>. A list of one or more care-of addresses provided by the foreign agent. The mobile user will select one of these addresses as its COA when registering with its home agent.</font></li></ul></ul><li><font face="Helvetica Neue" size="2"><b>Agent solicitation</b> — a mobile node wanting to learn about agents without waiting to receive an agent advertisement can broadcast an agent solicitation message.</font></li></ul><div><font face="Helvetica Neue" size="2"><br/></font></div><div><font face="Helvetica Neue" size="2"><i>Registration with the Home Agent</i></font></div><div><ul><li><font style="font-size: 12px;"><font face="Helvetica Neue">Once a mobile IP receives a COA, that address must be registered with the home agent. This can be done through the foreign agent or directly by the mobile IP node itself. </font><br/></font></li><li><font style="font-size: 12px;"><font face="Helvetica Neue">We consider the former case:</font></font></li><ul><li><font><font face="Helvetica Neue"><font size="2">Following the receipt of a foreign agent advertisement, a mobile node sends a mobile IP registration message to the foreign agent. The message carries a COA advertised by the foreign agent, the address of the home agent (HA), the permanent address of the mobile node (MA), the requested lifetime of the registration, and a 64-bit registration identification.</font></font></font></li><li><font><font face="Helvetica Neue"><font size="2">The foreign agent receives the registration message and records the mobile node’s permanent IP address. The foreign agent then sends a mobile IP registration message to the home agent. The message contains the COA, HA, MA, encapsulation format requested, requested registration lifetime, and registration identification.</font></font></font></li><li><font><font face="Helvetica Neue"><font size="2">The home agent receives the registration request and checks for authenticity and correctness. The home agent binds the mobile node’s permanent IP address with the COA. The home agent sends a mobile IP registration reply containing the HA, MA, …</font></font></font></li><li><font><font face="Helvetica Neue"><font size="2">The foreign agent receives the registration reply and then forwards it to the mobile node.</font></font></font></li></ul></ul><font face="Helvetica Neue" size="2"><i/></font></div><font face="Helvetica Neue" size="2"><i/></font></div><font size="2"><b/></font></div><div><img src="Ch%206%20--%20Wireless%20and%20Mobile%20Networks.resources/Screen%20Shot%202018-03-09%20at%201.59.06%20PM.png" height="542" width="418"/></div><div><br/></div><div><span style="font-family: 'Helvetica Neue'; font-size: 12px; font-weight: bold;">6.7 Managing Mobility in Cellular Networks</span></div><div><ul><li><font><font size="2"/><font face="Helvetica Neue"><font size="2">The mobile users’s home </font></font><font face="Helvetica Neue" size="2">network is referred to as the mobile user’s <b>home public land mobile network (home PLMN).</b></font><br/></font></li><li><font><font face="Helvetica Neue" size="2">We will call the GSM home PLMN as the <b>home network</b>. The home network is the cellular provider with which the mobile user has a subscription.</font></font></li><li><font><font face="Helvetica Neue" size="2">The <b>visited </b></font></font><font face="Helvetica Neue" size="2"><b>network </b>is the visited PLMN.</font></li><li><font face="Helvetica Neue" size="2">The responsibilities o fate home and visited network: </font></li><ul><li><font face="Helvetica Neue" size="2">The home network maintains a database known as the <b>home location register (HLR)</b>, which contains the permanent cell phone number and subscriber profile information of reach of its subscribers. The HLR also contains information about the current locations of these subscribers. </font></li><ul><li><font face="Helvetica Neue" size="2">A special switch in the home network, known as the <b>Gateway Mobile services Switching Center (GMSC)</b> is contacted by a corresponendet when a call is placed to a mobile user. We will refer to the GMSC as the <b>home MSC</b>.</font></li></ul><li><font face="Helvetica Neue" size="2">The visited network maintains a database known as the <b>visitor location register (VLR)</b>. The VLR contains an entry for each mobile user that is currently in the portion of the netowrk served by the VLR. </font></li></ul></ul><div><font face="Helvetica Neue" size="2"><br/></font></div></div><div><font face="Helvetica Neue" size="2"><i>Routing Calls to a Mobile User</i></font></div><div><ul><li><font style="font-size: 12px;"><font face="Helvetica Neue">The steps are as follows:</font><br/></font></li><ul><li><font><font face="Helvetica Neue"><font size="2">The correspondent dials the mobile user’s phone number. This number does not refer to a particular telephone line or location. The leading digits globally identify the mobile’s home network. The call is routed from the </font></font></font><font face="Helvetica Neue" size="2">correspondent through the PSTN to the home MSC in the mobile’s home network</font></li><li><font face="Helvetica Neue" size="2">The home MSC receives the call and interrogates the HLR to determine the location of the mobile user. In the simplest case, the HLR returns the <b>mobile station roaming number (MSRN)</b>, a.k.a. the <b>roaming number</b>. This number is different from the mobile’s permanent phone number. If HLR does not have the roaming number, it returns the address of the VLR in the visited network.  In this case, the home MSC will have to query the VLR to obtain the roaming number of the mobile node.</font></li><li><font face="Helvetica Neue" size="2">Given the roaming number, the home MSC sets up the second leg of the call through the network to the MSC in the visited network. The call is now routed from the correspondent to the home MSC, and from here to the visited MSC, and from there to the base station serving the mobile user.</font></li></ul><li><font face="Helvetica Neue" size="2">When a mobile phone is switched on or enters a part of a visited network that is covered by a new VLR, the mobile must register with the visited network. The visited VLR then sends a location update request message to the mobile’s HLR. This gives the home HLR the roaming number or the address of the VLR. During this exchange, the VLR also finds out from the home HLR about the mobile and determines what services should be accorded to the mobile user by the visited network.</font></li></ul><font face="Helvetica Neue" size="2"><i/></font></div><div><img src="Ch%206%20--%20Wireless%20and%20Mobile%20Networks.resources/Screen%20Shot%202018-03-09%20at%202.55.00%20PM.png" height="420" width="458"/></div><div><font size="1"><b style="font-size: 12px;">Handoffs in GSM<br/></b></font></div><div><ul><li><font style="font-size: 12px;"><font face="Helvetica Neue">A handoff occurs when a mobile station changes its association from one base station to another during a call. How is this done assuming that the old and new base stations share the same MSC and that the rerouting occurs at this MSC?</font><br/></font></li><li><font face="Helvetica Neue" size="2">Why may handoff occur?</font></li><ul><li><font face="Helvetica Neue" size="2">the signal between the current base station and the mobile may have deteriorated to such an extent that the call is in danger of being dropped.</font></li><li><font face="Helvetica Neue" size="2">A cell may have become overloaded</font></li></ul><li><font face="Helvetica Neue" size="2">Steps involved when a base station does decide to hand off a mobile user:</font></li><ul><li><font face="Helvetica Neue" size="2">The old base station (BS) informs the visited MSC that a handoff is to be performed and the BS to which the mobile is to be handed off</font></li><li><font face="Helvetica Neue" size="2">The visited MSC initiates path setup to the new BS, allocating the resources needed to carry the rerouted call, and signaling the new BS that a handoff is about to occur.</font></li><li><font face="Helvetica Neue" size="2">The new BS allocates and activates a radio channel for use by the mobile</font></li><li><font face="Helvetica Neue" size="2">The new BS signals back to the visited MSC and the old BS that the visited-MSC-to-new-BS path has been established and that the mobile should be informed of the impending handoff. The new BS provide all of the information that the mobile will need to associate with the new BS.</font></li><li><font face="Helvetica Neue" size="2">The mobile is informed that it should perform a handoff. </font></li><li><font face="Helvetica Neue" size="2">The mobile and the new BS exchange one or more messages to fully activate the new channel in the new BS.</font></li><li><font face="Helvetica Neue" size="2">The mobile sends a handoff complete message to the new BS, which is forwarded up to the visited MSC. The visited MSC then reroutes the ongoing call to the mobile via the new BS.</font></li><li><font face="Helvetica Neue" size="2">The resources allocated along the path to the old BS are then released.</font></li></ul></ul><div><img src="Ch%206%20--%20Wireless%20and%20Mobile%20Networks.resources/Screen%20Shot%202018-03-09%20at%203.16.26%20PM.png" height="262" width="488"/></div><div><ul><li><font style="font-size: 12px;"><font face="Helvetica Neue">What happens when the mobile moves to a BS that is associated with a <i>different MSC</i> than the old BS, and what happens when this inter-MSC handoff occurs more than once?</font></font></li><ul><li><font><font face="Helvetica Neue"><font size="2">GSM defines an </font><b style="font-size: 12px;">anchor MSC</b><font size="2"> — the first MSC visited by the mobile when the call begins</font></font></font></li><li><font><font face="Helvetica Neue"><font size="2">Throughout the call’s duration the call is routed from the home MSC to the anchor MSC to the visited MSC where the mobile is currently located.</font></font></font></li></ul></ul></div><font size="1"><span style="font-size: 12px;"/></font></div><div><img src="Ch%206%20--%20Wireless%20and%20Mobile%20Networks.resources/Screen%20Shot%202018-03-09%20at%203.22.34%20PM.png" height="380" width="589"/></div><div><font style="font-size: 12px;"><b>6.8 Wireless and Mobility: Impact on Higher-Layer Protocols</b><br/></font></div><div><ul><li><font><font size="2"/><font face="Helvetica Neue"><font size="2">Wireless networks differ from wired counterparts at both the link </font></font></font><font face="Helvetica Neue"><span title="Page 602" style="font-size: 10pt;-en-paragraph:true;">(as a result of wireless channel characteristics such as
fading, multipath, and hidden terminals) </span><font size="2">and network layer </font><span title="Page 602" style="font-size: 10pt;-en-paragraph:true;">(as a result of mobile
users who change their points of attachment to the network)</span><span style="font-size: small;">.<img src="Ch%206%20--%20Wireless%20and%20Mobile%20Networks.resources/Screen%20Shot%202018-03-09%20at%203.27.26%20PM.png" height="369" width="688"/></span></font></li><li><font face="Helvetica Neue" style="font-size: 12px;">We saw
in Section 6.2 that bit errors are much more common in wireless networks than in
wired networks. When such bit errors occur or when handoff loss occurs, there’s
really no reason for the TCP sender to decrease its congestion window (and thus
decrease its sending rate). Indeed, it may well be the case that router buffers are
empty and packets are flowing along the end-to-end path unimpeded by congestion. </font><br/></li><li><font face="Helvetica Neue" style="font-size: 12px;">Three approaches to dealing with this problem:</font></li><ul><li><font face="Helvetica Neue"><i style="font-size: 12px;">Local recovery</i><font size="2">. Local recovery protocols recover from bit errors when and where they occur</font></font></li><li><font face="Helvetica Neue"><font size="2"><i>TCP sender awareness of wireless links</i>. </font></font></li><li><font face="Helvetica Neue"><font size="2"><i>Split-connection approaches</i>. Here, the end-to-end connection between the mobile user and the other end point is broken into two transport-layer connections: one from the mobile host to the wireless access point, and one from the wireless access point to the other communication end point. (assuming that end point is wired). The transport layer over the wireless segment can be a standard TCP connection, or specially crafted connections. These are widely used today.</font></font></li></ul></ul><font style="font-size: 12px;"><b/></font></div><div
		/><div title="Page 603"><span title="Page 603"
			/></div><div title="Page 603"><span title="Page 603"
				/></div><div title="Page 603"><span title="Page 603"
					/></div><div title="Page 603"><span title="Page 603"
						/></div><div title="Page 603"><span title="Page 603"
					/></div><div title="Page 603"><span title="Page 603"
				/></div><div title="Page 603"><span title="Page 603"
			/></div><div><span title="Page 603"
		/></div></body></html>